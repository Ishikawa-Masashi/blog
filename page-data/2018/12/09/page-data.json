{"componentChunkName":"component---src-templates-blog-post-template-tsx","path":"/2018/12/09/","result":{"data":{"post":{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>最近DockerまわりをやっていてLinux上でDockerfileなどを編集するのがつらいので、ちゃんとVimを覚えようと思い立ち、\nとっかかりとして下記４点取り組みました。整理もかねて本記事にまとめます。</p>\n<ol>\n<li>vimtutor実施</li>\n<li><a href=\"https://vim-jp.org/vimdoc-ja/\">Vim日本語ドキュメント</a>読む</li>\n<li>Qiitaの主要記事を読む</li>\n<li>Chromeに<a href=\"https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb/related\">Vimium</a>導入</li>\n</ol>\n<h2 id=\"1-vimtutor実施\" style=\"position:relative;\"><a href=\"#1-vimtutor%E5%AE%9F%E6%96%BD\" aria-label=\"1 vimtutor実施 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. vimtutor実施</h2>\n<p>Vimをインストールすると<code class=\"language-text\">:vimtutor</code>で開くチュートリアルです。\n実際に手を動かしながら説明を上から下に読み進めると、最低限の操作を覚えられます。\nVimを始めたらまずコレをやるのがVimを理解する一番の近道だと思います。<br />\n1回チュートリアルを実践してみたら、後述する<a href=\"#2-vim%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E8%AA%AD%E3%82%80\">Vim日本語ドキュメント</a>や<a href=\"#4-chrome%E3%81%ABvimium%E5%B0%8E%E5%85%A5\">Vimium</a>を一通り使ってから再度挑戦すると良いです。\n私も初回はおぼつかなかったですが、再度試した時はだいぶ直感通りに操作することができVimが少しできるようになったことを実感しました。</p>\n<h3 id=\"要約\" style=\"position:relative;\"><a href=\"#%E8%A6%81%E7%B4%84\" aria-label=\"要約 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>要約</h3>\n<p>章末に要約があってとても分かりやすいです。各章だいたいこんな感じでした。</p>\n<ul>\n<li>【1章】上下左右の移動、保存して終了、破棄して終了、削除、ノーマルモードと挿入モードの切り替え</li>\n<li>【2章】行先頭、末尾への移動、単語ごとの移動、モーションと組み合わせた削除、アンドゥ、リドゥ</li>\n<li>【3章】ペースト、置換、変更</li>\n<li>【4章】ファイル先頭、末尾への移動、括弧間の移動、検索・置換</li>\n<li>【5章】外部コマンド実行、外部ファイル読み込み、ビジュアルモード</li>\n<li>【6章】行挿入、コピペ、置換モード、検索時のオプション</li>\n<li>【7章】ヘルプの使い方、vimrc設定方法</li>\n</ul>\n<h2 id=\"2-vim日本語ドキュメント読む\" style=\"position:relative;\"><a href=\"#2-vim%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E8%AA%AD%E3%82%80\" aria-label=\"2 vim日本語ドキュメント読む permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Vim日本語ドキュメント読む</h2>\n<p><a href=\"https://vim-jp.org/vimdoc-ja/\">Vim日本語ドキュメント</a><br /></p>\n<p>vimtutorで概要を掴み、実践的な操作を学習するためのサイトです。\n初級者編が12章分、上級者編が13章分、その他もろもろ章があって充実しています。\n自分は初心者編12章を読みました。時間があるときに上級者のほうも読みたいです。</p>\n<h2 id=\"3-qiitaの主要記事を読む\" style=\"position:relative;\"><a href=\"#3-qiita%E3%81%AE%E4%B8%BB%E8%A6%81%E8%A8%98%E4%BA%8B%E3%82%92%E8%AA%AD%E3%82%80\" aria-label=\"3 qiitaの主要記事を読む permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Qiitaの主要記事を読む</h2>\n<p>ささーっと下記記事を読みました。記事を見てるとフォローしている人の中に、大抵の記事にイイねしている人が何人かいて「この人はVim派なんだな～」というのが見えてちょっと面白かったです。</p>\n<ul>\n<li><a href=\"https://qiita.com/nyantera/items/4bf29ca6f11bc797a9cb\">新人達を1ヶ月でガチvimmerにした方法</a>\n<ul>\n<li>行末移動は編集する場合がほとんどだから<code class=\"language-text\">g $</code>よりも<code class=\"language-text\">A</code>を使ったほうが断然楽というのが目から鱗でした。</li>\n</ul>\n</li>\n<li><a href=\"https://qiita.com/hachi8833/items/7beeee825c11f7437f54\">Vim幼稚園からVim小学校へ</a></li>\n<li><a href=\"https://qiita.com/tekkoc/items/98adcadfa4bdc8b5a6ca\">Vimの便利な画面分割＆タブページと、それを更に便利にする方法</a>\n<ul>\n<li>こんなリッチな機能があることにびっくりしました。VSCodeさながらです。</li>\n</ul>\n</li>\n<li><a href=\"https://qiita.com/takeharu/items/9d1c3577f8868f7b07b5\">【入門】Vimで高速で移動 プラグインなしでの移動まとめ</a>\n<ul>\n<li><code class=\"language-text\">{</code>と<code class=\"language-text\">}</code>で段落ごとの移動、<code class=\"language-text\">zz</code>カーソルの位置をウィンドウの中心に移動、<code class=\"language-text\">z Enter</code>カーソルの位置をウィンドウの最上部に移動という便利コマンドが勉強になりました。</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"4-chromeにvimium導入\" style=\"position:relative;\"><a href=\"#4-chrome%E3%81%ABvimium%E5%B0%8E%E5%85%A5\" aria-label=\"4 chromeにvimium導入 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ChromeにVimium導入</h2>\n<p><a href=\"https://chrome.google.com/webstore/detail/vimium/dbepggeogbaibhgnhhndojpepiihcmeb/related\">Vimium | Chrome Web Store</a><br /></p>\n<p>後輩に「Vim始めた」と言ったら、めちゃめちゃ勧められたのがこのChromeエクステンションです。ブラウザ操作をVim化できるという優れものです。\nネットサーフィンで日頃からVim操作に慣れておけば、いざLinuxでファイル編集する時も手が動くようにするためでもあります。\n早速2～3日ってみたところ、ネットサーフィンでほとんどマウスを触らなくなりました。\nスクロール、タブ移動、履歴移動などの操作一通りを、ホームポジションから手を動かすことなく実現できます。</p>\n<h3 id=\"リンククリック\" style=\"position:relative;\"><a href=\"#%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%AF%E3%83%AA%E3%83%83%E3%82%AF\" aria-label=\"リンククリック permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リンククリック</h3>\n<p>めっちゃ便利です。\n<code class=\"language-text\">f</code>を押すと下記のように全リンクにショートカットキーが割り当てられ\nキー入力でリンククリックができます。\n<code class=\"language-text\">f</code>で自タブ遷移、<code class=\"language-text\">F</code>で新規タブ遷移です。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/33fc11c3ff81e62da93be7ed770dfa64/3fca6/vimium-link.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB5ElEQVR42nVRW24TQRDcC5Eodn7INUAICSKORW5gcwYOYfGTjwjHeNfe17x6ZvYxMz0PtGujmAhKrVZppJpqVWUPD1+/rdfr1Wq9Wn14/+7q6s1ysVjc3FzOcrG8Xd7OZHF9fXX39u7+86cv9x8zkKCAD0OvlQCphVQglZhGTwSkkIrStmkKDiCVFiCLfPv487B5zLP2uFGcODNoLYJ3MbgYMUY/7xADppRMT3vNQoxpBo7tj2f5faOyvqMpJecjUdhpNnTMGuVsb0eJaKzRztlOVR5NvEBKCQAyhyalFAIqxbvejcYbG50L1oZx9D6c3eIf25mHlJIAmfn5NQRsDk/F8ZCXzaGua0IOdZtXbcO56EBoPswHpvTyhXP2LI4xWmucNdZaa6btnPOI6E5A5zD9De99djoseEvqLWWqpbpqJRVdTRRherDGeGesjt6+EiNi5kM4OQtaNW1JBSOMEEY4cD73xRVwoMPQ/V8cUCuuO2cNDj0aE6YZvTE+hJj+hUmMs9h7PFb7vGzyYtvWNWXAuQTohFBK6a7XwzC8qsqhOwc2p4fWTGEZY8cZiDjV4kMM4bKql8AIY4zzltTP26fiQIui2v2q9jmpKlaW9FjSsqJNy0HK3X6/3e3yohAAAoAL8Rujn8WL7P9AhAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/33fc11c3ff81e62da93be7ed770dfa64/ba381/vimium-link.webp 200w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/7f61c/vimium-link.webp 400w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/d00b9/vimium-link.webp 800w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/01adf/vimium-link.webp 1112w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/33fc11c3ff81e62da93be7ed770dfa64/772e8/vimium-link.png 200w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/e17e5/vimium-link.png 400w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/5a190/vimium-link.png 800w,\n/blog/static/33fc11c3ff81e62da93be7ed770dfa64/3fca6/vimium-link.png 1112w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/33fc11c3ff81e62da93be7ed770dfa64/5a190/vimium-link.png\"\n            alt=\"リンク\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"スクロール\" style=\"position:relative;\"><a href=\"#%E3%82%B9%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%AB\" aria-label=\"スクロール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>スクロール</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/2785119d576a8a5b5a5408824d86e888/fb4e7/vimium-scroll.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcRAAAXEQHKJvM/AAAD4UlEQVR42nVUW0wcZRTeB5MaEugDxhqjTbwgj77xYEwaa1V80ZjYvnlpixEbfe8DiVqhYHwhtjGssEAUKXWDNBQMF5NmC0u2sNxKd8tml7n9t5m9zi4kiJ2Zz/yzbqUmTvLl/+dM8p3vnO/MCTQ3N9f/HxobGx+NvfJOPYD6YDB4tLW19cjxk1+fbnziSaup6UXU1dWNB+QTiUQK0WhUj0aj5L/4NRwmA6EQ6evrI6GBfnLhqxHy2qm3SXv7p2RoKGR82Rve++zC5965s2e9jo4OBEOhi4FKZRecC0cIAdOyYFkWTLN6UsagqhoURYUQDH3jd3Hi5FvovtwF0zSR2cl4XJgQQjiVSgWLseWeQKFYgqKRB6pmeLqmeYwxj1Dq6brhcS4827Y9YVqeZXJveCrlZVTqZS3TE6bpSRGcczDGfMLl9fXuQKlkQ9cNRyra29uDECYoZcjlcojHV9HVdRmrq2soFfIYnk5BNQQsU4AxfhiObZexEIv1BEqlEgilTuR2BN9cuoRkMglN12UZmJiYQNNLzZi4cQP5nIWhyQRUnfmE8vu/4M7u7i6W19Z6ApVyBUwwJzjUh2PHnsLy8gry+Tw4Z7IVGJu5B92gMAXD6EwKO5q8c7/UGh6WLAk5F1CVtKPrBMOTW7BM5iukxICiMYzOZkApR9YSCM+noRwiZJz5oJQ6lUq5SvjmG6/jw/NfOLc3TMTWdzCzpOHd997HuY8/grByuHVHElIYhODHcBzJlArGOQhlPqlvzOGSQ6EB/DQy5mymBKYXNWylKHq+/Q5Xr3zv9+u3P+5L08AZwfXZFNI7OhglIKQKmUwqlKbEJKHjuCgW8s7G5l1cHZwENVS/h3ap6Ds6FaX+fOayJq7PZ6AZHJYl/DmsmcL5IYVyPHL5vNPb24vHjzzmj4oue0gJVuIb6OgeQCKZhGVy/Dy9jbRigDECwyD+eEmFhBCnXP6nh+Vyxc+QSCQwOzfnk8lSisUiro2O4tlnnsbc3DzsUgGDN7exndZ8w/xyGZMOP6pQ/nqGYTjSbUlCCK32jHMoioJY7A40TUfW4hi8eR9mtgTpaG2oawpt264pLMvgX4ZB3HRmx1VVzSWEuvKdMe7mcnmXEOZySt3hqW33l7Fx9/fpaZdz4ZqCu4VC0bPtyoP9Pw8Qi8e7AwcHB3IZONlsTi4JP6tcDqaVrZ7+oshJ4zAyZ+DVE6dw5sxp7O8fYG1LQSg0iM7OTmdmZhZpVe8JrKystC8sLJxfWlpqW1xcfIhIpAoZr6F/7FbblR+Cbf39wbbNe6lPPrgYvvbc8y8kGhoarJaWlnmFkJf/BiyYQbPXG1mEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/2785119d576a8a5b5a5408824d86e888/ba381/vimium-scroll.webp 200w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/7f61c/vimium-scroll.webp 400w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/d00b9/vimium-scroll.webp 800w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/92f8c/vimium-scroll.webp 1200w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/ba879/vimium-scroll.webp 1519w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/2785119d576a8a5b5a5408824d86e888/772e8/vimium-scroll.png 200w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/e17e5/vimium-scroll.png 400w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/5a190/vimium-scroll.png 800w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/c1b63/vimium-scroll.png 1200w,\n/blog/static/2785119d576a8a5b5a5408824d86e888/fb4e7/vimium-scroll.png 1519w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/2785119d576a8a5b5a5408824d86e888/5a190/vimium-scroll.png\"\n            alt=\"スクロール\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li><code class=\"language-text\">k</code>、<code class=\"language-text\">j</code>、<code class=\"language-text\">h</code>、<code class=\"language-text\">l</code>で上下左右にスクロール</li>\n<li><code class=\"language-text\">2k</code>、<code class=\"language-text\">2j</code> など数字指定で大きくスクロール可能</li>\n<li><code class=\"language-text\">u</code>、<code class=\"language-text\">d</code>で画面半分スクロール</li>\n<li><code class=\"language-text\">gg</code>で最上部へスクロール</li>\n<li><code class=\"language-text\">G</code>で最下部へスクロール</li>\n</ul>\n<h3 id=\"タブ移動\" style=\"position:relative;\"><a href=\"#%E3%82%BF%E3%83%96%E7%A7%BB%E5%8B%95\" aria-label=\"タブ移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>タブ移動</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/ce51e5fa147eb8291ec6b4953b91632c/29007/vimium-tab.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABcRAAAXEQHKJvM/AAABw0lEQVR42pWOS28SUQCF5yeJLlxVGfqI0YqGWP6CC3lYSluN/QNsXBg3btzoyrirUZHyaCy0HQMlLkoRYcLNzM0UzRTmzgwMnXuPYWq6cuPiyzln8+VIzWbzQ7vdNjudjjayXDpiE+pOfGo5HmXumLrjCWWOR70pp8z1qMXGASPLob1ej3a7XcoY04QQpqqq21IulzuIRCKIrzzgPW2IH7qHvbqKkz7D6Ujg1+gcP3UX1YaKVt9Gz5iieyrw/VjF/egy5Mg8GkcNDgCEkJpECNmfDYvZvudNRafbF6HQVfHm3WcxMM6EoRniY7EuroSuia9VRfiAsOyJGA6ZODNNMXaY8P1zf+bQdb0qUUoD4darb/xOJo/4Vhl31z7h3mYR7zNxvE3EEN0sIprNI/ZkB7GnO1h5VsTS4zxeb5/Acjyomhk8pJTWLoXJ5/v8+sMS5FQF4fQuwqkKIokvkBOFoIfTlYv8y81kBXKqjIXVXdx4VOAtYmNoDmqSrusHM+HqyyM+lz7ErQ0FS+uHWFxXsLBRD5j1f5JVML+mYC65x4+JeyEkhJQBzrMvapacKNjL2aJ9O/M/lOzFVN5qtAz+e0BLfwAoHKwLpkQwVQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/ce51e5fa147eb8291ec6b4953b91632c/ba381/vimium-tab.webp 200w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/7f61c/vimium-tab.webp 400w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/d00b9/vimium-tab.webp 800w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/92f8c/vimium-tab.webp 1200w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/fad48/vimium-tab.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/ce51e5fa147eb8291ec6b4953b91632c/772e8/vimium-tab.png 200w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/e17e5/vimium-tab.png 400w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/5a190/vimium-tab.png 800w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/c1b63/vimium-tab.png 1200w,\n/blog/static/ce51e5fa147eb8291ec6b4953b91632c/29007/vimium-tab.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/ce51e5fa147eb8291ec6b4953b91632c/5a190/vimium-tab.png\"\n            alt=\"タブ\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li><code class=\"language-text\">J</code>で左隣に移動</li>\n<li><code class=\"language-text\">K</code>で右隣に移動</li>\n<li><code class=\"language-text\">g 0</code>で最左に移動</li>\n<li><code class=\"language-text\">g $</code>で最右に移動</li>\n</ul>\n<h3 id=\"タブ操作\" style=\"position:relative;\"><a href=\"#%E3%82%BF%E3%83%96%E6%93%8D%E4%BD%9C\" aria-label=\"タブ操作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>タブ操作</h3>\n<ul>\n<li><code class=\"language-text\">t</code>で新規タブ開く</li>\n<li><code class=\"language-text\">x</code>で現在のタブを閉じる</li>\n</ul>\n<h3 id=\"更新戻る進む\" style=\"position:relative;\"><a href=\"#%E6%9B%B4%E6%96%B0%E6%88%BB%E3%82%8B%E9%80%B2%E3%82%80\" aria-label=\"更新戻る進む permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>更新・戻る・進む</h3>\n<ul>\n<li><code class=\"language-text\">r</code>で更新</li>\n<li><code class=\"language-text\">H</code>で戻る</li>\n<li><code class=\"language-text\">L</code>で戻る</li>\n</ul>\n<h3 id=\"注意点\" style=\"position:relative;\"><a href=\"#%E6%B3%A8%E6%84%8F%E7%82%B9\" aria-label=\"注意点 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>注意点</h3>\n<p>たまに入力項目にフォーカスが当たっている場合などは、操作が効かなくなるので、その時はブラウザのデフォルトショートカットを使うことをお勧めします。</p>\n<h2 id=\"その他\" style=\"position:relative;\"><a href=\"#%E3%81%9D%E3%81%AE%E4%BB%96\" aria-label=\"その他 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>その他</h2>\n<p>最低限マークダウンを編集できるように<a href=\"https://github.com/plasticboy/vim-markdown\">plasticboy/vim-markdown</a>を導入しました。<br />\nデフォルトのVimだとマークダウンのシンタックスハイライトは効きますがVSCodeに比べると若干編集しづらいところがありました。\n導入後は箇条書きリストで改行したときにインデントを保ったまま<code class=\"language-text\">* </code>を付けてくれたりと軽快に編集できるようになりました。<br />\nプラグインはGitHubからZIPでダウンロードして解凍したものをvimフォルダ配下の<code class=\"language-text\">plugins</code>に突っ込めば普通に動きました。\n※<code class=\"language-text\">vimrc</code>で<code class=\"language-text\">plugins</code>配下を全部読み込むような設定になっているようですね。</p>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>昔、同期が「Vim最高！！」とか言ってて当時は全く理解できませんでしたが、今ならわかるような気がします。\nそこまで使いこなせていませんが、Vimの考え方などは非常に共感できるし、基本操作さえ覚えてしまえば、あとは組み合せで対応できる点が大変気に入っています。カーソル移動がとにかく楽ですね。<br />\nVimiumを日頃から使っていれば操作は忘れないし、今後はLinux上で恐れることなくVimを使っていけそうな気がしました🍅</p>","excerpt":"なにこれ 最近DockerまわりをやっていてLinux上でDockerfileなどを編集するのがつらいので、ちゃんとVimを覚えようと思い立ち、\nとっかかりとして下記４点取り組みました。整理もかねて本記事にまとめます。 vimtutor実施 Vim…","frontmatter":{"slug":"/2018/12/09/","title":"Vimを始める時に取り組んだ４つのこと","date":"2018-12-09T21:00:00.000+09:00","tags":["Vim","Vimium"],"keywords":["Vim"],"thumbnail":"thumbnail/2018/vim-beginners.png"},"headingsDetail":[{"id":"なにこれ","value":"なにこれ","depth":2,"parents":[]},{"id":"1-vimtutor実施","value":"1. vimtutor実施","depth":2,"parents":[]},{"id":"要約","value":"要約","depth":3,"parents":[{"id":"1-vimtutor実施","value":"1. vimtutor実施","depth":2}]},{"id":"2-vim日本語ドキュメント読む","value":"2. Vim日本語ドキュメント読む","depth":2,"parents":[]},{"id":"3-qiitaの主要記事を読む","value":"3. Qiitaの主要記事を読む","depth":2,"parents":[]},{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2,"parents":[]},{"id":"リンククリック","value":"リンククリック","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"スクロール","value":"スクロール","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"タブ移動","value":"タブ移動","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"タブ操作","value":"タブ操作","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"更新・戻る・進む","value":"更新・戻る・進む","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"注意点","value":"注意点","depth":3,"parents":[{"id":"4-chromeにvimium導入","value":"4. ChromeにVimium導入","depth":2}]},{"id":"その他","value":"その他","depth":2,"parents":[]},{"id":"まとめ","value":"まとめ","depth":2,"parents":[]}]}},"pageContext":{"thumbnail":{"node":{"relativePath":"thumbnail/2018/vim-beginners.png","name":"vim-beginners","childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#e8e8d8","images":{"fallback":{"src":"/blog/static/ba346f27de9377c070c3151f9392f7f8/2d11e/vim-beginners.png","srcSet":"/blog/static/ba346f27de9377c070c3151f9392f7f8/6b9a5/vim-beginners.png 300w,\n/blog/static/ba346f27de9377c070c3151f9392f7f8/ae865/vim-beginners.png 600w,\n/blog/static/ba346f27de9377c070c3151f9392f7f8/2d11e/vim-beginners.png 1200w","sizes":"(min-width: 1200px) 1200px, 100vw"},"sources":[{"srcSet":"/blog/static/ba346f27de9377c070c3151f9392f7f8/b0a02/vim-beginners.webp 300w,\n/blog/static/ba346f27de9377c070c3151f9392f7f8/86b42/vim-beginners.webp 600w,\n/blog/static/ba346f27de9377c070c3151f9392f7f8/c4678/vim-beginners.webp 1200w","type":"image/webp","sizes":"(min-width: 1200px) 1200px, 100vw"}]},"width":1200,"height":630}}}},"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"},"slug":"/2018/12/09/","relatedPosts":[],"latestPosts":[{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>Windowsでキーバインドをお気軽にいじれる<a href=\"https://www.autohotkey.com/\">AutoHotkey</a>の紹介です。３ヶ月使ってみて色々な設定を試した結果、その中でも特に便利だと感じたマウススクロールと修飾キーの組合せについてご紹介します。</p>\n<h2 id=\"autohotkeyとは\" style=\"position:relative;\"><a href=\"#autohotkey%E3%81%A8%E3%81%AF\" aria-label=\"autohotkeyとは permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AutoHotkeyとは</h2>\n<p>Windows版で提供されているソフトウェアで、専用のプログラミング言語でキーバインドを定義すれば、任意のキー入力に対してスクリプトを実行できます。既存のキーに別のキーの割当てたり、複雑なショートカットコマンドの割当が可能です。</p>\n<h3 id=\"良い部分\" style=\"position:relative;\"><a href=\"#%E8%89%AF%E3%81%84%E9%83%A8%E5%88%86\" aria-label=\"良い部分 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>良い部分</h3>\n<p><strong>サクッと導入して合わなかったらサクッと廃止できます。</strong><br>\n同じようなものでWindowsの<a href=\"https://forest.watch.impress.co.jp/library/software/changekey/\">Change Key</a>やMacの<a href=\"https://karabiner-elements.pqrs.org/\">Karabiner Elements</a>がありますが、AutoHotkeyはアプリレイヤーで制御するので、アプリを終了すれば通常操作に戻れて、レジストリをいじったりしなくて良いという手軽さが魅力です。</p>\n<h3 id=\"イマイチな部分\" style=\"position:relative;\"><a href=\"#%E3%82%A4%E3%83%9E%E3%82%A4%E3%83%81%E3%81%AA%E9%83%A8%E5%88%86\" aria-label=\"イマイチな部分 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>イマイチな部分</h3>\n<p><strong>独自言語で設定します。</strong><br>\n言語仕様はAutoHotkey公式リファレンスを見て学習が必要です。\n少し独特な言語で処理をどこでreturnするか分かりづらい気がします。</p>\n<p><strong>リモート接続PCでは効きません。</strong><br>\nリモート接続先のPCの操作に対してはAutHotkeyの設定は有効になりません。テレワークでリモートPC操作がメインの方だとイマイチかもしれません。これはChange KeyもKarabiner Elementsも同じですが...</p>\n<h2 id=\"実例紹介全体像\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E4%BE%8B%E7%B4%B9%E4%BB%8B%E5%85%A8%E4%BD%93%E5%83%8F\" aria-label=\"実例紹介全体像 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実例紹介：全体像</h2>\n<p>Windowsだと<code class=\"language-text\">Ctrl</code>+スクロールは拡大/縮小、<code class=\"language-text\">Shift</code>+スクロールは横スクロールになっています。\nこのノリを<code class=\"language-text\">Win</code>,<code class=\"language-text\">Alt</code>,<code class=\"language-text\">Tab</code>にも拡張する感じでAutoHotkeyで設定します。<br>\n右手でマウススクロールしながら、左手で<code class=\"language-text\">Win</code>,<code class=\"language-text\">Alt</code>,<code class=\"language-text\">Tab</code>を押下することで、目的のデスクトップ・アプリ・タブに素早く直感的に移動できます。</p>\n<p><img src=\"./overview.png\" alt=\"overview\"></p>\n<h2 id=\"実例紹介ソースコード\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E4%BE%8B%E7%B4%B9%E4%BB%8B%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\" aria-label=\"実例紹介ソースコード permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実例紹介：ソースコード</h2>\n<p>まずはソースコード全量を示します。</p>\n<div class=\"gatsby-code-title\">AutoHotkey設定ファイルの実例</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> 仮想デスクトップ間移動\n~LWin <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token comment\">#{Left}</span>\n~LWin <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token comment\">#{Right}</span>\n\n<span class=\"token punctuation\">;</span> アプリ間移動\n~LAlt <span class=\"token operator\">&amp;</span> WheelDown::AltTab \n~LAlt <span class=\"token operator\">&amp;</span> WheelUp::ShiftAltTab\n\n<span class=\"token punctuation\">;</span> Tabの修飾キー化\n<span class=\"token variable\">$Tab</span>::\n  startTime :<span class=\"token operator\">=</span> A_TickCount\n  KeyWait, Tab\n  keyPressDuration :<span class=\"token operator\">=</span> A_TickCount - startTime\n  If <span class=\"token punctuation\">(</span>A_ThisHotkey <span class=\"token operator\">==</span> <span class=\"token string\">\"<span class=\"token variable\">$Tab</span>\"</span> and keyPressDuration <span class=\"token operator\">&lt;</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Send, <span class=\"token punctuation\">{</span>Blind<span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>Tab<span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\nReturn\n\n<span class=\"token punctuation\">;</span> タブ間移動：VSCode\n<span class=\"token comment\">#IfWinActive ahk_exe Code.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token punctuation\">{</span>PgUp<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>PgDn<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span>\n\n<span class=\"token punctuation\">;</span> タブ間移動：Chrome\n<span class=\"token comment\">#IfWinActive ahk_exe chrome.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^+<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>以下で処理の塊ごとに説明します。</p>\n<h3 id=\"仮想デスクトップ間移動\" style=\"position:relative;\"><a href=\"#%E4%BB%AE%E6%83%B3%E3%83%87%E3%82%B9%E3%82%AF%E3%83%88%E3%83%83%E3%83%97%E9%96%93%E7%A7%BB%E5%8B%95\" aria-label=\"仮想デスクトップ間移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>仮想デスクトップ間移動</h3>\n<p><code class=\"language-text\">Win</code> + スクロール実行時に、<code class=\"language-text\">Win</code> + 左右矢印を発動するように設定します。\n<code class=\"language-text\">Left</code>,<code class=\"language-text\">Right</code>の向きは好みによって変えてください。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">~LWin <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token comment\">#{Left}</span>\n~LWin <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token comment\">#{Right}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"アプリ間移動\" style=\"position:relative;\"><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E9%96%93%E7%A7%BB%E5%8B%95\" aria-label=\"アプリ間移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アプリ間移動</h3>\n<p>同じように<code class=\"language-text\">Alt</code>+ スクロール実行時に、<code class=\"language-text\">Alt</code>+<code class=\"language-text\">Tab</code>を発動するように設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">~LAlt <span class=\"token operator\">&amp;</span> WheelDown::AltTab \n~LAlt <span class=\"token operator\">&amp;</span> WheelUp::ShiftAltTab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<br/>\n<p>※ちなみに<code class=\"language-text\">Alt</code>+<code class=\"language-text\">Tab</code>のアプローチは複数選択肢がありますが、<code class=\"language-text\">Alt</code>を押し続ける必要があり、１つのキーで代替するのは難しく皆さん実現に苦労されているようです。</p>\n<h3 id=\"タブ移動\" style=\"position:relative;\"><a href=\"#%E3%82%BF%E3%83%96%E7%A7%BB%E5%8B%95\" aria-label=\"タブ移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>タブ移動</h3>\n<p>Tabは修飾キー化が必要です。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token variable\">$Tab</span>::\n  startTime :<span class=\"token operator\">=</span> A_TickCount\n  <span class=\"token punctuation\">;</span> 押し続けている限りリピートせず待機\n  KeyWait, Tab\n  keyPressDuration :<span class=\"token operator\">=</span> A_TickCount - startTime\n  <span class=\"token punctuation\">;</span> 押下中に他のホットキーが発動した場合は入力無し い\n  <span class=\"token punctuation\">;</span> 長押しの場合も入力無し\n  If <span class=\"token punctuation\">(</span>A_ThisHotkey <span class=\"token operator\">==</span> <span class=\"token string\">\"<span class=\"token variable\">$Tab</span>\"</span> and keyPressDuration <span class=\"token operator\">&lt;</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Send, <span class=\"token punctuation\">{</span>Blind<span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>Tab<span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\nReturn</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>さらにアプリ毎にショートカットキーが異なるのでアプリ別に設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span>マウスホイールでタブ移動（VScode）\n<span class=\"token comment\">#IfWinActive ahk_exe Code.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token punctuation\">{</span>PgUp<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>PgDn<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span>\n\n<span class=\"token punctuation\">;</span>マウスホイールでタブ移動（クローム）\n<span class=\"token comment\">#IfWinActive ahk_exe chrome.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^+<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>今回紹介したのはスクロールとの組み合わせでしたが、AutoHotkeyは他にもさまざまな設定ができるので便利です。是非使ってみてください🍅</p>","excerpt":"なにこれ Windowsでキーバインドをお気軽にいじれるAutoHotkeyの紹介です。３ヶ月使ってみて色々な設定を試した結果、その中でも特に便利だと感じたマウススクロールと修飾キーの組合せについてご紹介します。 AutoHotkeyとは Windows…","frontmatter":{"slug":"/autohotkey-mouse-scroll-combination","title":"AutoHotkey スクロールと修飾キーの組合せが便利","date":"2023-04-07T09:00:00.000+09:00","tags":["キーボード","AutoHotkey","作業効率化"],"keywords":["キーボード"],"thumbnail":"thumbnail/2023/04/autohotkey-mouse-scroll-combination.png","category":"tech"}},{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>Windowsでキーバインドをお気軽にいじれる<a href=\"https://www.autohotkey.com/\">AutoHotkey</a>の紹介です。３ヶ月使ってみて色々な設定を試した結果、その中でも特に便利だと感じたマウススクロールと修飾キーの組合せについてご紹介します。</p>\n<h2 id=\"autohotkeyとは\" style=\"position:relative;\"><a href=\"#autohotkey%E3%81%A8%E3%81%AF\" aria-label=\"autohotkeyとは permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AutoHotkeyとは</h2>\n<p>Windows版で提供されているソフトウェアで、専用のプログラミング言語でキーバインドを定義すれば、任意のキー入力に対してスクリプトを実行できます。既存のキーに別のキーの割当てたり、複雑なショートカットコマンドの割当が可能です。</p>\n<h3 id=\"良い部分\" style=\"position:relative;\"><a href=\"#%E8%89%AF%E3%81%84%E9%83%A8%E5%88%86\" aria-label=\"良い部分 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>良い部分</h3>\n<p><strong>サクッと導入して合わなかったらサクッと廃止できます。</strong><br>\n同じようなものでWindowsの<a href=\"https://forest.watch.impress.co.jp/library/software/changekey/\">Change Key</a>やMacの<a href=\"https://karabiner-elements.pqrs.org/\">Karabiner Elements</a>がありますが、AutoHotkeyはアプリレイヤーで制御するので、アプリを終了すれば通常操作に戻れて、レジストリをいじったりしなくて良いという手軽さが魅力です。</p>\n<h3 id=\"イマイチな部分\" style=\"position:relative;\"><a href=\"#%E3%82%A4%E3%83%9E%E3%82%A4%E3%83%81%E3%81%AA%E9%83%A8%E5%88%86\" aria-label=\"イマイチな部分 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>イマイチな部分</h3>\n<p><strong>独自言語で設定します。</strong><br>\n言語仕様はAutoHotkey公式リファレンスを見て学習が必要です。\n少し独特な言語で処理をどこでreturnするか分かりづらい気がします。</p>\n<p><strong>リモート接続PCでは効きません。</strong><br>\nリモート接続先のPCの操作に対してはAutHotkeyの設定は有効になりません。テレワークでリモートPC操作がメインの方だとイマイチかもしれません。これはChange KeyもKarabiner Elementsも同じですが...</p>\n<h2 id=\"実例紹介全体像\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E4%BE%8B%E7%B4%B9%E4%BB%8B%E5%85%A8%E4%BD%93%E5%83%8F\" aria-label=\"実例紹介全体像 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実例紹介：全体像</h2>\n<p>Windowsだと<code class=\"language-text\">Ctrl</code>+スクロールは拡大/縮小、<code class=\"language-text\">Shift</code>+スクロールは横スクロールになっています。\nこのノリを<code class=\"language-text\">Win</code>,<code class=\"language-text\">Alt</code>,<code class=\"language-text\">Tab</code>にも拡張する感じでAutoHotkeyで設定します。<br>\n右手でマウススクロールしながら、左手で<code class=\"language-text\">Win</code>,<code class=\"language-text\">Alt</code>,<code class=\"language-text\">Tab</code>を押下することで、目的のデスクトップ・アプリ・タブに素早く直感的に移動できます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/4d082bf6a56df1485c5e3ec8941754e8/d6bb7/overview.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcRAAAXEQHKJvM/AAACR0lEQVR42pWSz2/ScBTA+Yc9ePBu9KQHs+jBaGKyuJglM24DhigUxu8fbQessjEzaGHl2wJtKdANFhP3MZRdjLt4+OS9l7z3ycvLiwTBgmCx4HodgwWLxaYOgv8lWM+uIq2OyXnPwjAnDITDbuKE2Lcio/EEzw9wvBnudIY3neGG+fwf1j3+bB5KI7F8jz2py/5xj8O8znb8B58SbaJ5nVjBIFq84rBgsp+3iJeGRAuDv4gVB+xJBhf6hOVNcBfJNQTJmiAlCwrNIfmmzcSbU9YE5VPB95JGulhHzrxi9yCJJBtkFYOMbIS5JOukajoVTTCbL4ikFItoxeaoNkJSBfGKxdj1yaoWkmJTL3yglXtOW3pEKfkUNf+aRmGLRnELrfyGC/k9p8UX1OUM3mxFJK1YxCo2iZodChNVi5HjI6k25abOrVvll1fDtRoI8wfHShfPrDAxK2jNHd5+fII4i+OOzph4wcNC0/JIKzaVls7vhQo3DQJHxRbnZNUrll6LTu+IWPUZ7+KPkeovOdezTP3lw8Lx/YahcKZAoBJMFCxTQ6r/ZOU0aHWSFNo7aN1DSto2jU4O/yHh13thRrWptnTu5gpcb4T2sE1WNVi5KuplikzvC5nLAzLdz9Qvi/j+DZGUbBEt2xxVbdKKIFbe3DCl2BSbOktX5XZ6gitU+v0z0nIfzzqhZ1QZiBzGsMBAZOn2m3hr4XDk0xc+A8vHtKfow2n4pFfWNLylPXZCrJHD0HbpCw8xchiNPTzHw10zce/czXMHfwBVkQajLKbkaAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/4d082bf6a56df1485c5e3ec8941754e8/ba381/overview.webp 200w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/7f61c/overview.webp 400w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/d00b9/overview.webp 800w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/92f8c/overview.webp 1200w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/fad48/overview.webp 1600w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/4f632/overview.webp 2157w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/4d082bf6a56df1485c5e3ec8941754e8/772e8/overview.png 200w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/e17e5/overview.png 400w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/5a190/overview.png 800w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/c1b63/overview.png 1200w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/29007/overview.png 1600w,\n/blog/static/4d082bf6a56df1485c5e3ec8941754e8/d6bb7/overview.png 2157w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/4d082bf6a56df1485c5e3ec8941754e8/5a190/overview.png\"\n            alt=\"overview\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"実例紹介ソースコード\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E4%BE%8B%E7%B4%B9%E4%BB%8B%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\" aria-label=\"実例紹介ソースコード permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実例紹介：ソースコード</h2>\n<p>まずはソースコード全量を示します。</p>\n<div class=\"gatsby-code-title\">AutoHotkey設定ファイルの実例</div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span> 仮想デスクトップ間移動\n~LWin <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token comment\">#{Left}</span>\n~LWin <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token comment\">#{Right}</span>\n\n<span class=\"token punctuation\">;</span> アプリ間移動\n~LAlt <span class=\"token operator\">&amp;</span> WheelDown::AltTab \n~LAlt <span class=\"token operator\">&amp;</span> WheelUp::ShiftAltTab\n\n<span class=\"token punctuation\">;</span> Tabの修飾キー化\n<span class=\"token variable\">$Tab</span>::\n  startTime :<span class=\"token operator\">=</span> A_TickCount\n  KeyWait, Tab\n  keyPressDuration :<span class=\"token operator\">=</span> A_TickCount - startTime\n  If <span class=\"token punctuation\">(</span>A_ThisHotkey <span class=\"token operator\">==</span> <span class=\"token string\">\"<span class=\"token variable\">$Tab</span>\"</span> and keyPressDuration <span class=\"token operator\">&lt;</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Send, <span class=\"token punctuation\">{</span>Blind<span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>Tab<span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\nReturn\n\n<span class=\"token punctuation\">;</span> タブ間移動：VSCode\n<span class=\"token comment\">#IfWinActive ahk_exe Code.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token punctuation\">{</span>PgUp<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>PgDn<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span>\n\n<span class=\"token punctuation\">;</span> タブ間移動：Chrome\n<span class=\"token comment\">#IfWinActive ahk_exe chrome.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^+<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>以下で処理の塊ごとに説明します。</p>\n<h3 id=\"仮想デスクトップ間移動\" style=\"position:relative;\"><a href=\"#%E4%BB%AE%E6%83%B3%E3%83%87%E3%82%B9%E3%82%AF%E3%83%88%E3%83%83%E3%83%97%E9%96%93%E7%A7%BB%E5%8B%95\" aria-label=\"仮想デスクトップ間移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>仮想デスクトップ間移動</h3>\n<p><code class=\"language-text\">Win</code> + スクロール実行時に、<code class=\"language-text\">Win</code> + 左右矢印を発動するように設定します。\n<code class=\"language-text\">Left</code>,<code class=\"language-text\">Right</code>の向きは好みによって変えてください。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">~LWin <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token comment\">#{Left}</span>\n~LWin <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token comment\">#{Right}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"アプリ間移動\" style=\"position:relative;\"><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E9%96%93%E7%A7%BB%E5%8B%95\" aria-label=\"アプリ間移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アプリ間移動</h3>\n<p>同じように<code class=\"language-text\">Alt</code>+ スクロール実行時に、<code class=\"language-text\">Alt</code>+<code class=\"language-text\">Tab</code>を発動するように設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">~LAlt <span class=\"token operator\">&amp;</span> WheelDown::AltTab \n~LAlt <span class=\"token operator\">&amp;</span> WheelUp::ShiftAltTab</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<br/>\n<p>※ちなみに<code class=\"language-text\">Alt</code>+<code class=\"language-text\">Tab</code>のアプローチは複数選択肢がありますが、<code class=\"language-text\">Alt</code>を押し続ける必要があり、１つのキーで代替するのは難しく皆さん実現に苦労されているようです。</p>\n<h3 id=\"タブ移動\" style=\"position:relative;\"><a href=\"#%E3%82%BF%E3%83%96%E7%A7%BB%E5%8B%95\" aria-label=\"タブ移動 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>タブ移動</h3>\n<p>Tabは修飾キー化が必要です。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token variable\">$Tab</span>::\n  startTime :<span class=\"token operator\">=</span> A_TickCount\n  <span class=\"token punctuation\">;</span> 押し続けている限りリピートせず待機\n  KeyWait, Tab\n  keyPressDuration :<span class=\"token operator\">=</span> A_TickCount - startTime\n  <span class=\"token punctuation\">;</span> 押下中に他のホットキーが発動した場合は入力無し い\n  <span class=\"token punctuation\">;</span> 長押しの場合も入力無し\n  If <span class=\"token punctuation\">(</span>A_ThisHotkey <span class=\"token operator\">==</span> <span class=\"token string\">\"<span class=\"token variable\">$Tab</span>\"</span> and keyPressDuration <span class=\"token operator\">&lt;</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Send, <span class=\"token punctuation\">{</span>Blind<span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>Tab<span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\nReturn</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>さらにアプリ毎にショートカットキーが異なるのでアプリ別に設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token punctuation\">;</span>マウスホイールでタブ移動（VScode）\n<span class=\"token comment\">#IfWinActive ahk_exe Code.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^<span class=\"token punctuation\">{</span>PgUp<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>PgDn<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span>\n\n<span class=\"token punctuation\">;</span>マウスホイールでタブ移動（クローム）\n<span class=\"token comment\">#IfWinActive ahk_exe chrome.exe</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelUp::send,^+<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\n  ~Tab <span class=\"token operator\">&amp;</span> WheelDown::send,^<span class=\"token punctuation\">{</span>tab<span class=\"token punctuation\">}</span>\nReturn\n<span class=\"token comment\">#IfWinActiveW</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>今回紹介したのはスクロールとの組み合わせでしたが、AutoHotkeyは他にもさまざまな設定ができるので便利です。是非使ってみてください🍅</p>","excerpt":"なにこれ Windowsでキーバインドをお気軽にいじれるAutoHotkeyの紹介です。３ヶ月使ってみて色々な設定を試した結果、その中でも特に便利だと感じたマウススクロールと修飾キーの組合せについてご紹介します。 AutoHotkeyとは Windows…","frontmatter":{"slug":"/autohotkey-mouse-scroll-combination","title":"AutoHotkey スクロールと修飾キーの組合せが便利","date":"2023-04-07T09:00:00.000+09:00","tags":["キーボード","AutoHotkey","作業効率化"],"keywords":["キーボード"],"thumbnail":"thumbnail/2023/04/autohotkey-mouse-scroll-combination.png","category":null}},{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>ブログについて以下２点改修したので備忘録を残します。</p>\n<ul>\n<li><strong>Gatsbyをv2からv5に更新</strong>：しばらくブログを更新しない間にGatsbyの最新バージョンはv2からv5になっていたのでバージョンアップしました。</li>\n<li><strong>＋αの機能を削除</strong>：いままではプロフィールページなど充実させて機能をモリモリにしていましたが、今後はメンテコストを下げて記事投稿に集中したいからです。</li>\n</ul>\n<h2 id=\"gatsbyのバージョンアップ\" style=\"position:relative;\"><a href=\"#gatsby%E3%81%AE%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%82%A2%E3%83%83%E3%83%97\" aria-label=\"gatsbyのバージョンアップ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsbyのバージョンアップ</h2>\n<p>忘れていたり古くなった私のGatsbyの知識をアップデートするため、\npackage.jsonのライブラリ更新ではなく、<code class=\"language-text\">npm init gatsby blog -- -y -ts</code>でアプリを新規作成して、必用な機能だけ移行する形を取りました。</p>\n<p>ここではライブラリのバージョンアップだけではうまく行かない点について列挙します。</p>\n<h3 id=\"gatsby-image-gatsby-background-image\" style=\"position:relative;\"><a href=\"#gatsby-image-gatsby-background-image\" aria-label=\"gatsby image gatsby background image permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gatsby-image, gatsby-background-image</h3>\n<p>画像を扱うライブラリが大きく変わっていました。\nいずれも公式サイトに従って書き換えました。</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.com/docs/reference/release-notes/image-migration-guide/\">gatsby-image移行方法 | Gatsby公式サイト</a></li>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-background-image/#gatsby-34--gatsby-plugin-image\">gatsby-background-iamgeプラグインのREADME</a></li>\n</ul>\n<p>またgatsby-background-imageは<a href=\"https://github.com/timhagn/gatsby-background-image/issues/179\">GitHubのissue</a>で記載があるようにGatsby V5の場合はビルドエラーが出ます。やむをえず<code class=\"language-text\">npm ci</code>や<code class=\"language-text\">npm i</code>実行時は<code class=\"language-text\">--legacy-peer-deps</code>を付与しています。</p>\n<h3 id=\"emotion\" style=\"position:relative;\"><a href=\"#emotion\" aria-label=\"emotion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>emotion</h3>\n<p><a href=\"https://emotion.sh/docs/emotion-11#package-renaming\">Emotion11でパッケージ名が変わっている</a>のでインポート文を変えました。</p>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\"><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span> import { css } from '@emotion/core'\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span> import { css } from '@emotion/react'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<br/>\n<p>またtsxファイルでcss属性に対してエラーが出るようになったので、<a href=\"https://emotion.sh/docs/eslint-plugin-react\">Emotionの公式サイト</a>を参考にeslintrc.jsのruleに以下追加しました。</p>\n<div class=\"gatsby-code-title\">eslintrc.js</div>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\">{\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> \"rules\": {\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>    \"react/no-unknown-property\": [\"error\", { \"ignore\": [\"css\"] }]\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> }\n</span>}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"削除した機能\" style=\"position:relative;\"><a href=\"#%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E6%A9%9F%E8%83%BD\" aria-label=\"削除した機能 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>削除した機能</h2>\n<p>改修過程で記事投稿に関係のないプロフィールのような付加価値的な機能と、ビルド時間が増大する機能については、移行しないことにしました。\n当時はフロントエンドのスキル情報のためのプレイグラウンドとして色んな機能を実装していましたが、今は技術調査結果や読後レポートを公開する場として使いたいからです。</p>\n<h3 id=\"qiita記事情報取得表示\" style=\"position:relative;\"><a href=\"#qiita%E8%A8%98%E4%BA%8B%E6%83%85%E5%A0%B1%E5%8F%96%E5%BE%97%E8%A1%A8%E7%A4%BA\" aria-label=\"qiita記事情報取得表示 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Qiita記事情報取得・表示</h3>\n<p>これまではQiita連携のプラグインを使っていましたが、以下理由から廃止しました。</p>\n<ul>\n<li>Qiita記事とGatsby側記事の差分を埋めるため、nodeを加工して独自のIFを設ける必要があり、ブログの作りが複雑化してしまう</li>\n<li>1年以上の時間軸で考えるとプラグインはメンテコストがかかる</li>\n<li>Qiita側でアクセストークンの発行が必要でメンテコストがかかる</li>\n</ul>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://takumon.com/2018/11/11/\" data-iframely-url=\"//cdn.iframe.ly/api/iframe?url=https%3A%2F%2Ftakumon.com%2F2018%2F11%2F11%2F&key=0658bf78be97cafcf2b0b9f96c1270ee\"></a></div></div>\n<h3 id=\"githubリポジトリ情報取得表示\" style=\"position:relative;\"><a href=\"#github%E3%83%AA%E3%83%9D%E3%82%B8%E3%83%88%E3%83%AA%E6%83%85%E5%A0%B1%E5%8F%96%E5%BE%97%E8%A1%A8%E7%A4%BA\" aria-label=\"githubリポジトリ情報取得表示 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHubリポジトリ情報取得・表示</h3>\n<p>当時気張って作ってみたものの、普段の記事作成作業の生産性を下げるので廃止しました。</p>\n<ul>\n<li>GitHubでアクセストークンの発行が必要でメンテコストがかかる</li>\n<li>ビルド時間が少し長くなる</li>\n<li>ローカルで頻繁にビルドするとGitHubアクセス制限回数に到達しGitHub API呼び出しで401エラーになる</li>\n</ul>\n<h3 id=\"wordcloud表示記事文章中の頻出単語可視化d3jsのよる記事関連性の可視化\" style=\"position:relative;\"><a href=\"#wordcloud%E8%A1%A8%E7%A4%BA%E8%A8%98%E4%BA%8B%E6%96%87%E7%AB%A0%E4%B8%AD%E3%81%AE%E9%A0%BB%E5%87%BA%E5%8D%98%E8%AA%9E%E5%8F%AF%E8%A6%96%E5%8C%96d3js%E3%81%AE%E3%82%88%E3%82%8B%E8%A8%98%E4%BA%8B%E9%96%A2%E9%80%A3%E6%80%A7%E3%81%AE%E5%8F%AF%E8%A6%96%E5%8C%96\" aria-label=\"wordcloud表示記事文章中の頻出単語可視化d3jsのよる記事関連性の可視化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>WordCloud表示（記事文章中の頻出単語可視化）、d3.jsのよる記事関連性の可視化</h3>\n<p>これらも当時気張って作ってみたものの廃止しました</p>\n<ul>\n<li>必要はライブラリが多い、1年立つと使い方を忘れてる</li>\n<li>ビルド時間が大幅に増加してしまう</li>\n<li>Gatsby v2→5更新時に画像処理系ライブラリ起因でエラー多発</li>\n</ul>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://takumon.com/wordcloud-in-gatsby-blog\" data-iframely-url=\"//cdn.iframe.ly/api/iframe?url=https%3A%2F%2Ftakumon.com%2Fwordcloud-in-gatsby-blog%2F&key=0658bf78be97cafcf2b0b9f96c1270ee\"></a></div></div>\n<h3 id=\"ビルド処理gatsby-parallel-runnerによる画像生成処理の並列化\" style=\"position:relative;\"><a href=\"#%E3%83%93%E3%83%AB%E3%83%89%E5%87%A6%E7%90%86gatsby-parallel-runner%E3%81%AB%E3%82%88%E3%82%8B%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E5%87%A6%E7%90%86%E3%81%AE%E4%B8%A6%E5%88%97%E5%8C%96\" aria-label=\"ビルド処理gatsby parallel runnerによる画像生成処理の並列化 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ビルド処理：gatsby-parallel-runnerによる画像生成処理の並列化</h3>\n<p>上３つの廃止に伴いビルド時間も短縮されました。\n当時ビルド時間短縮のために導入していた本機能も、Google Cloudとの連携といった煩わしさがあったので今回を機に廃止しました。</p>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://takumon.com/optimizations-for-faster-gatsby-builds\" data-iframely-url=\"//cdn.iframe.ly/api/iframe?url=https%3A%2F%2Ftakumon.com%2Foptimizations-for-faster-gatsby-builds%2F%231-%25E7%2594%25BB%25E5%2583%258F%25E7%2594%259F%25E6%2588%2590%25E5%2587%25A6%25E7%2590%2586%25E3%2582%2592%25E4%25B8%25A6%25E5%2588%2597%25E5%258C%2596%25E3%2581%2599%25E3%2582%258B&key=0658bf78be97cafcf2b0b9f96c1270ee\"></a></div></div>\n<h3 id=\"ビルド処理画像縦横幅縮小画質低減\" style=\"position:relative;\"><a href=\"#%E3%83%93%E3%83%AB%E3%83%89%E5%87%A6%E7%90%86%E7%94%BB%E5%83%8F%E7%B8%A6%E6%A8%AA%E5%B9%85%E7%B8%AE%E5%B0%8F%E7%94%BB%E8%B3%AA%E4%BD%8E%E6%B8%9B\" aria-label=\"ビルド処理画像縦横幅縮小画質低減 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ビルド処理：画像縦横幅縮小・画質低減</h3>\n<p>以下理由から廃止しました。</p>\n<ul>\n<li>WordCloudの部分でもそうでしたが画像処理系は処理が重く、ライブラリバージョンアップでエラーも付き物</li>\n<li>サムネイル画像を最適なサイズ・画質で作る環境は別で整えたので画像加工処理自体が不要になった</li>\n</ul>\n<h3 id=\"ビルド処理circle-ciでのビルドnetlifyへのデプロイ\" style=\"position:relative;\"><a href=\"#%E3%83%93%E3%83%AB%E3%83%89%E5%87%A6%E7%90%86circle-ci%E3%81%A7%E3%81%AE%E3%83%93%E3%83%AB%E3%83%89netlify%E3%81%B8%E3%81%AE%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\" aria-label=\"ビルド処理circle ciでのビルドnetlifyへのデプロイ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ビルド処理：Circle CIでのビルドNetlifyへのデプロイ</h3>\n<p>GitHub Actionsに乗り換えました</p>\n<h3 id=\"renovate\" style=\"position:relative;\"><a href=\"#renovate\" aria-label=\"renovate permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Renovate</h3>\n<p><a href=\"https://github.com/renovatebot/renovate\">Renovate</a>（リポジトリで利用しているライブラリのバージョンアップを自動でしてくれるツール）は廃止しました。放っておくとプルリクが溜まり続けるので、１人で長期間メンテするリポジトリの場合は手動が良いと感じました。</p>\n<h2 id=\"残している機能\" style=\"position:relative;\"><a href=\"#%E6%AE%8B%E3%81%97%E3%81%A6%E3%81%84%E3%82%8B%E6%A9%9F%E8%83%BD\" aria-label=\"残している機能 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>残している機能</h2>\n<h3 id=\"プラグイン系\" style=\"position:relative;\"><a href=\"#%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E7%B3%BB\" aria-label=\"プラグイン系 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>プラグイン系</h3>\n<ul>\n<li><strong>ダークモード切り替え</strong>：<a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-dark-mode/\">gatsby-plugin-dark-mode</a>を使っていましたが、TypeScriptのlint errorを解消するため<a href=\"https://github.com/kagamichan/gatsby-plugin-dark-mode\">@skagami/gatsby-plugin-dark-mode</a>に移行しました。</li>\n<li><strong>サイトマップ作成</strong>：<a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-sitemap/\">gatsby-plugin-sitemap</a></li>\n<li><strong>マークダウン表現拡張</strong>：現状維持でプラグイン郡を使っています</li>\n<li><strong>クエリからの型自動生成</strong>：<a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-typegen/\">gatsby-plugin-typegen</a>を使っています</li>\n<li><strong>文字スタイルテンプレート</strong>：<a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-typography/\">gatsby-plugin-typography</a>、テンプレートは<a href=\"https://www.npmjs.com/package/typography-theme-wordpress-2016\">typography-theme-wordpress-2016</a>を使っています</li>\n<li><strong>manifestファイル作成</strong>：gatsby-plugin-manifest</li>\n</ul>\n<h3 id=\"自作系\" style=\"position:relative;\"><a href=\"#%E8%87%AA%E4%BD%9C%E7%B3%BB\" aria-label=\"自作系 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>自作系</h3>\n<ul>\n<li>目次作成</li>\n</ul>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://takumon.com/2018/10/28/\" data-iframely-url=\"//cdn.iframe.ly/api/iframe?url=http%3A%2F%2Ftakumon.com%2F2018%2F10%2F28%2F&key=0658bf78be97cafcf2b0b9f96c1270ee\"></a></div></div>\n<br/>\n<br/>\n<ul>\n<li>関連記事表示</li>\n</ul>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\"><a href=\"https://takumon.com/gatsby-related-posts-like-hugo\" data-iframely-url=\"//cdn.iframe.ly/api/iframe?url=http%3A%2F%2Ftakumon.com%2Fgatsby-related-posts-like-hugo&key=0658bf78be97cafcf2b0b9f96c1270ee\"></a></div></div>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>だいぶスッキリして記事が書きやすくなりました。\n1年以上の時間軸で自作ブログの運用を考えると、外部連携を減らしてリポジトリのソースコードだけで完結すること、環境変数などの構成管理対象外の情報を極力減らすことがポイントだと感じました🍅</p>","excerpt":"なにこれ ブログについて以下２点改修したので備忘録を残します。 Gatsbyをv2からv5に更新：しばらくブログを更新しない間にGatsbyの最新バージョンはv2からv5になっていたのでバージョンアップしました。 ＋α…","frontmatter":{"slug":"/migrate-gatsby-v2-to-v5","title":"Gatsbyバージョンアップ（v2 to v5）","date":"2023-04-06T09:00:00.000+09:00","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"thumbnail/2023/04/migrate-gatsby-v2-to-v5.png","category":null}},{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>React NativeのTextタグで複数行テキストを書く場合、改行がめんどくさいですが、Tagged Template Literalsを使えばスッキリ書けます。\n以下に<a href=\"https://snack.expo.io/@takumon/multi-line-text-in-text-tag-of-react-native\">動くソースコード</a>を用意しています。</p>\n<div class=\"iframely-embed\">\n  <div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\">\n    <a href=\"https://snack.expo.io/@takumon/multi-line-text-in-text-tag-of-react-native\" data-iframely-url=\"//cdn.iframe.ly/HAwniZ1\"></a>\n  </div>\n</div>\n<h2 id=\"1-公式リファレンス\" style=\"position:relative;\"><a href=\"#1-%E5%85%AC%E5%BC%8F%E3%83%AA%E3%83%95%E3%82%A1%E3%83%AC%E3%83%B3%E3%82%B9\" aria-label=\"1 公式リファレンス permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 公式リファレンス</h2>\n<p>まずは<a href=\"https://reactnative.dev/docs/text\">React Nativeの公式リファレンス</a>を見ます。\nTextタグのプロパティには、改行をコントロールするようなものはなさそうでした。\nただ、サンプルとして載っていたコードには<code class=\"language-text\">{\"\\n\"}</code>で改行を指定していました。\nとりあえず<code class=\"language-text\">{\"\\n\"}</code>を使えば、改行できそうです。<br/></p>\n<p>ただ、ちょっとめんどくさいし見た目が煩雑になってしまいます...</p>\n<h2 id=\"2-stack-overflow\" style=\"position:relative;\"><a href=\"#2-stack-overflow\" aria-label=\"2 stack overflow permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Stack Overflow</h2>\n<p>Stack Overflowで他に方法がないか調べたところ以下の質問がヒットしました。</p>\n<div class=\"iframely-embed\">\n  <div class=\"iframely-responsive\" style=\"height: 140px; padding-bottom: 0;\">\n    <a href=\"https://stackoverflow.com/questions/32469570/how-can-i-insert-a-line-break-into-a-text-component-in-react-native\" data-iframely-url=\"//cdn.iframe.ly/MDEwzC6\"></a>\n  </div>\n</div>\n<br/>\n<p>1番いいねが多かった回答は公式リファレンスと同じ方法です。 React Nativeでは<code class=\"language-text\">{\"\\n\"}</code>で改行が普通なのでしょうか...</p>\n<p>しかし、2番目に人気の回答は参考になりました。Template Literalsを使う方法です。</p>\n<div class=\"gatsby-code-title\">Template</div>\n<div class=\"gatsby-highlight\" data-language=\"jsxliteralsを使って改行をスッキリさせる方法\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsxliteralsを使って改行をスッキリさせる方法 line-numbers\"><code class=\"language-jsxliteralsを使って改行をスッキリさせる方法\">&lt;Text&gt;{`\nHi~\nthis is a test message.\n`}&lt;/Text&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>これは、良さそうです。ただ以下のようにインデントしたTextタグ中でキレイに書こうとすると、</p>\n<div class=\"gatsby-code-title\">インデントした場合</div>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">View</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n    </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      Hi~\n      this is a test message.\n    </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">Text</span></span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span><span class=\"token class-name\">View</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>画面上でもインデントされた状態になってしまいます...</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 332px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJNAAASTQHzl8SnAAAAtElEQVR42p2QYYrCMBSEexJv4t6sh+kJ2gttUzHW+PrcFaxJXpLNLAkq+Et2B4YHAzM8vkZr3RJTy8wtEbXGmD+79MpO13WbJqWIECJOxyXnnPEP1VIIAcMwfDQxRvFeZByVX6+rFDln5bqu4q2Tm7VirRXnXPUPIHi1L9d7H/q+35ZBpJSw17u8MOH8dQEzQU0TvvmM2Rgc9B5qUvhU4/sPK0OiO78HQ3pmxFyzedaV0zuGv0NZYoH8jx7nAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/32c8fd8e8cbed77a708b657233e90103/ba381/rendering-result.webp 200w,\n/blog/static/32c8fd8e8cbed77a708b657233e90103/b76f7/rendering-result.webp 332w\"\n              sizes=\"(max-width: 332px) 100vw, 332px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/32c8fd8e8cbed77a708b657233e90103/772e8/rendering-result.png 200w,\n/blog/static/32c8fd8e8cbed77a708b657233e90103/f8dc5/rendering-result.png 332w\"\n            sizes=\"(max-width: 332px) 100vw, 332px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/32c8fd8e8cbed77a708b657233e90103/f8dc5/rendering-result.png\"\n            alt=\"rendering result\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<h2 id=\"3-tagged-template-literalsと組み合わせる\" style=\"position:relative;\"><a href=\"#3-tagged-template-literals%E3%81%A8%E7%B5%84%E3%81%BF%E5%90%88%E3%82%8F%E3%81%9B%E3%82%8B\" aria-label=\"3 tagged template literalsと組み合わせる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Tagged Template Literalsと組み合わせる</h2>\n<p>しばらく考えて、Tagged Template Literalsを使うことにしました。\nTagged Template LiteralsはES6で出てきた新機能です。\nタグ関数を定義して、Template Literalsをパースできます。\n書き方も以下のようにスッキリしています。</p>\n<div class=\"gatsby-code-title\">Tagged</div>\n<div class=\"gatsby-highlight\" data-language=\"jsxtemplate literalsを使った書き方\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsxtemplate literalsを使った書き方 line-numbers\"><code class=\"language-jsxtemplate literalsを使った書き方\">  &lt;View&gt;\n    &lt;Text&gt;{noIndent `\n      Hi~\n      this is a test message.\n  `}&lt;/Text&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>タグ関数では以下のような感じです。</p>\n<div class=\"gatsby-code-title\">Tagged</div>\n<div class=\"gatsby-highlight\" data-language=\"jstemplate literalsのタグ関数\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jstemplate literalsのタグ関数 line-numbers\"><code class=\"language-jstemplate literalsのタグ関数\">// Tagged Templates function\nfunction noIndent(strs, ...placeholders) {\n  const original = placeholders.map((placeholder, i) =&gt; strs[i] + placeholder) + strs[strs.length - 1];\n  return removeIndent(original);\n}\n\n// for removing indents of each line and trims blank lines.\nfunction removeIndent(value) {\n  const indentRemovedLines = value.split(&#39;\\n&#39;).map((line) =&gt; line.replace(/^[^\\S\\n]+/g, &#39;&#39;));\n\n  const [firstLine, ...lines] = indentRemovedLines;\n  const [lastLine, ...reversedRestLines] = [...lines].reverse();\n  const restLines = [...reversedRestLines].reverse();\n\n  const firstLastLineTrimmed = [...(firstLine ? [firstLine] : []), ...restLines, ...(lastLine ? [lastLine] : [])].join(&#39;\\n&#39;);\n  return firstLastLineTrimmed;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>レンダリングもバッチリです。インデントは除去されています。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 311px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABJNAAASTQHzl8SnAAAA3ElEQVR42p2QwWrDMAyG80Z5q9HtGl/yXLn0kuMuTTFjh0AXB1ZH9qFratx5dlKqatgddIeNwQQfvyQkISlbLqt8zXm52XSF1poBAAMJV/2GlDJprPmBQilV1nWdZ89PzWI8WDra45miXS70D0u9nPOHbLV6vIMB6FVuTwoUaq1Q9D0K0aOUWxQvHXZCYNu2OAyARISEeNUbp6+B91nTNIsYfHh/nqeZwjyR94FCCDQFT+7dkZ8C7XZvyf/liNuGVVXl+8O+NMYU4ziyiDEmEX1rLbPGMOdcyv31w09vul2LL3wYJwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/060300c392969e2a14730a1c5462279a/ba381/rendering-result-with-tag-function.webp 200w,\n/blog/static/060300c392969e2a14730a1c5462279a/c6a73/rendering-result-with-tag-function.webp 311w\"\n              sizes=\"(max-width: 311px) 100vw, 311px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/060300c392969e2a14730a1c5462279a/772e8/rendering-result-with-tag-function.png 200w,\n/blog/static/060300c392969e2a14730a1c5462279a/ffa0f/rendering-result-with-tag-function.png 311w\"\n            sizes=\"(max-width: 311px) 100vw, 311px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/060300c392969e2a14730a1c5462279a/ffa0f/rendering-result-with-tag-function.png\"\n            alt=\"rendering result with tag function\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span>\n<br/></p>\n<p>少し微妙なのは、タグ関数中でテキスト上下空行を問答無用で除去してしまっている点です。\nタグ関数のオプション引数で渡して、除去するか選べるようにしたかったのですが、どうやらそれは<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\">Tagged Template Literalsの仕様</a>上できないようです。</p>\n<h2 id=\"最後に\" style=\"position:relative;\"><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\" aria-label=\"最後に permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>最後に</h2>\n<p>以前<a href=\"https://takumon.com/ionic-summary-and-comparison-with-react-native-and-flutter-2020\">Ionicについての記事</a>を書きましたが、今後はReact Nativeをしばらく使いそうです。\nモバイル開発においてネイティブの部分はさっぱりですが、React NativeはReactの書き方をそのまま使えるのがメリットとしては大きいです。\n若干Reactと違う部分もあったりするので、今後はそこに関するノウハウを記事にできたらイイなと思っています🍅</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://reactnative.dev/docs/text\">Text · React Native</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32469570/how-can-i-insert-a-line-break-into-a-text-component-in-react-native\">javascript - How can I insert a line break into a <Text> component in React Native? - Stack Overflow</a></li>\n<li><a href=\"https://wesbos.com/tagged-template-literals\">Tagged Template Literals - Wes Bos</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\">Template literals (Template strings) - JavaScript | MDN</a></li>\n</ul>","excerpt":"なにこれ React NativeのTextタグで複数行テキストを書く場合、改行がめんどくさいですが、Tagged Template Literalsを使えばスッキリ書けます。\n以下に動くソースコードを用意しています。 1. 公式リファレンス まずはReact Native…","frontmatter":{"slug":"/how-to-write-multi-line-text-in-text-tag-by-using-tagged-template-literals-in-es6","title":"React NativeのTextタグで改行したいけど{\"\\n\"}を使いたくない時はTagged Template Literalsを使う","date":"2020-07-24T19:45:00.000+09:00","tags":["ReactNative","CrossPlatform","Mobile"],"keywords":["Mobile"],"thumbnail":"thumbnail/2020/07/how-to-write-multi-line-text-in-text-tag-by-using-tagged-template-literals-in-es6.png","category":null}},{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>自分のブログ(Gatsby製)のビルドが遅すぎてNetlifyでタイムアウトしてしまうので、ビルドチューニングをしました。\n15分以上かかっていたビルドが7分以下になり50%短縮できたので、その時の知見をまとめます。\n割と地味な作業が多いですが、Gatsbyのビルド時間短縮に関するTipsを効果がある順にご紹介します。</p>\n<ul>\n<li>🚀<a href=\"#1-%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E5%87%A6%E7%90%86%E3%82%92%E4%B8%A6%E5%88%97%E5%8C%96%E3%81%99%E3%82%8B\">1. 画像生成処理を並列化する</a></li>\n<li>🚅<a href=\"#2-%E5%BF%85%E8%A6%81%E3%81%AA%E7%94%BB%E5%83%8F%E3%81%A0%E3%81%91%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%A7%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\">2. 必要な画像だけクエリで取得する</a></li>\n<li>🚂<a href=\"#3-%E7%94%9F%E6%88%90%E7%94%BB%E5%83%8F%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E6%B8%9B%E3%82%89%E3%81%99\">3. 生成画像の種類を減らす</a></li>\n<li>🚗<a href=\"#4-%E7%94%BB%E5%83%8F%E3%81%AE%E7%B8%A6%E6%A8%AA%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B\">4. 画像の縦横サイズを最適化する</a></li>\n<li>🚴🏻<a href=\"#5-%E7%94%BB%E5%83%8F%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E5%9C%A7%E7%B8%AE%E3%81%99%E3%82%8B\">5. 画像のファイルサイズを圧縮する</a></li>\n<li>🏃🏻<a href=\"#6-%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E7%94%BB%E5%83%8F%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%EF%BC%86%E4%BD%8E%E3%82%AF%E3%82%AA%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E3%81%99%E3%82%8B\">6. 生成する画像をシンプル＆低クオリティにする</a></li>\n<li>🏊🏻<a href=\"#7-netlify-plugin-gatsby-cache%E3%82%92%E4%BD%BF%E3%81%86\">7. netlify-plugin-gatsby-cacheを使う</a></li>\n<li>💎<a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A81-circle-ci%E3%81%A7%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6netlify%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\">番外編1: Circle CIでビルドしてNetlifyにデプロイする</a></li>\n</ul>\n<h2 id=\"なぜビルドが遅いのか--画像生成に時間がかかっている\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%9C%E3%83%93%E3%83%AB%E3%83%89%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%8B--%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E3%81%AB%E6%99%82%E9%96%93%E3%81%8C%E3%81%8B%E3%81%8B%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B\" aria-label=\"なぜビルドが遅いのか  画像生成に時間がかかっている permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なぜビルドが遅いのか → 画像生成に時間がかかっている</h2>\n<p>ビルド時間の内訳を見たところ、<code class=\"language-text\">Generating image thumbnails</code>に10分以上かかっており大半を締めていました。\nこれは<a href=\"https://www.gatsbyjs.org/packages/gatsby-image/\">gatsby-image</a>で様々なブラウザ幅に最適化するために、サイズ違いの画像を複数枚生成するための処理です。</p>\n<p>gatsby-imageまわりのビルドチューニングについて、日本の記事をあまり見かけませんが、\n英語の記事やGitHubでは、画像生成が遅いという記事をちらほら見かけました。</p>\n<ul>\n<li><a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Improve Gatsby Build Speeds With Parallel Image Processing</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/issues/8056\">Gatsby build on Netlify fails(Image generation): Command did not finish within the time limit · Issue #8056 · gatsbyjs/gatsby</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/issues/23033\">Gatsby stuck on generating image thumbnails · Issue #23033 · gatsbyjs/gatsby</a></li>\n</ul>\n<p>あとGatsbyの公式ドキュメントでも画像の取り扱いについて言及されています。</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/docs/preoptimizing-images/\">Preoptimizing Your Images | GatsbyJS</a></li>\n</ul>\n<p>そのため、本記事では、いかに画像生成処理の時間を短縮するかをメインにTipsを紹介していきます。</p>\n<h2 id=\"1-画像生成処理を並列化する\" style=\"position:relative;\"><a href=\"#1-%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E5%87%A6%E7%90%86%E3%82%92%E4%B8%A6%E5%88%97%E5%8C%96%E3%81%99%E3%82%8B\" aria-label=\"1 画像生成処理を並列化する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 画像生成処理を並列化する</h2>\n<p><a href=\"https://github.com/netlify/gatsby-parallel-runner\">gatsby-parallel-runner</a>で画像生成処理を並列化します。\n何をやっているかというと、gatsby buildで一番重い画像生成処理を、<a href=\"https://console.cloud.google.com/\">Google Cloud Platform</a>(以降GCP)に投げて、並列で処理して結果を受け取るというプラグインです。GCPのアカウントが必要ですが、この方法が一番楽に劇的にビルド時間を短縮できます。\n<a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Netlifyの記事</a>では6分21秒かかっていたビルドが3分22秒、およそ半分になったそうです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/01fc7/parallel-speed-comparison.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFmV1wOZH//xAAZEAEAAwEBAAAAAAAAAAAAAAABAAMEEBH/2gAIAQEAAQUCa9HhXoQNEY8//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERElH/2gAIAQMBAT8BlFlh/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAQMFAAAAAAAAAAAAAAAAAQADIRETIIGR/9oACAEBAAY/Aq3RxS4BpSRh/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMZEhUf/aAAgBAQABPyG0HjhNzS+F4a7UTevZYxewWtZ//9oADAMBAAIAAwAAABALz//EABYRAQEBAAAAAAAAAAAAAAAAAAABYf/aAAgBAwEBPxDBQ//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxB0jP/EAB0QAQACAgIDAAAAAAAAAAAAAAEAIRFxQVFhscH/2gAIAQEAAT8QuEhfRz9hfnziPNQQN5pAK1iUFfWUQADSIgZTbP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/ba381/parallel-speed-comparison.webp 200w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/7f61c/parallel-speed-comparison.webp 400w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/d00b9/parallel-speed-comparison.webp 800w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/92f8c/parallel-speed-comparison.webp 1200w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/fad48/parallel-speed-comparison.webp 1600w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/919bf/parallel-speed-comparison.webp 3200w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/e07e9/parallel-speed-comparison.jpg 200w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/066f9/parallel-speed-comparison.jpg 400w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/4b190/parallel-speed-comparison.jpg 800w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/e5166/parallel-speed-comparison.jpg 1200w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/b17f8/parallel-speed-comparison.jpg 1600w,\n/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/01fc7/parallel-speed-comparison.jpg 3200w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/a917a9b6980544d6e3f6ad9fa2793ab1/4b190/parallel-speed-comparison.jpg\"\n            alt=\"parallel speed comparison\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>設定方法は<a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Netlifyの記事</a>にキャプチャ付きで詳しく載っているので、そちらをご覧いただければ簡単に設定できると思います。GCPの環境をCLIで構築してNetlifyに環境変数を設定すればすぐに使えるようになります。</p>\n<h2 id=\"2-必要な画像だけクエリで取得する\" style=\"position:relative;\"><a href=\"#2-%E5%BF%85%E8%A6%81%E3%81%AA%E7%94%BB%E5%83%8F%E3%81%A0%E3%81%91%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%A7%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\" aria-label=\"2 必要な画像だけクエリで取得する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 必要な画像だけクエリで取得する</h2>\n<p>フィルタを全く指定しないクエリは、全ての画像を取得してしまうのでビルド時間が大幅に増えてしまいます。\nそのため、クエリで取得する画像は他画像とフォルダを分けて、クエリのフィルタ条件を指定するなりしましょう。\nそうすることで不必要に画像を取得せずに済み、ビルド時間を短縮できます。</p>\n<div class=\"gatsby-code-title\">フィルタ条件を付けて必要な画像だけ取得する</div>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\">query {\n<span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span>  // 全画像を取得してしまう\n<span class=\"token prefix deleted\">-</span>  allFile {\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>  // 検索条件を指定して必要な画像だけ取得するようにする\n<span class=\"token prefix inserted\">+</span>  allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>   edges {\n<span class=\"token prefix unchanged\"> </span>     node {\n<span class=\"token prefix unchanged\"> </span>       childImageSharp {\n<span class=\"token prefix unchanged\"> </span>         fluid {\n<span class=\"token prefix unchanged\"> </span>           ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }\n</span>}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h3 id=\"クエリのフィルタ条件をcontext経由で指定する\" style=\"position:relative;\"><a href=\"#%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E6%9D%A1%E4%BB%B6%E3%82%92context%E7%B5%8C%E7%94%B1%E3%81%A7%E6%8C%87%E5%AE%9A%E3%81%99%E3%82%8B\" aria-label=\"クエリのフィルタ条件をcontext経由で指定する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>クエリのフィルタ条件をContext経由で指定する</h3>\n<p>例えば、トップページの上部にピックアップした３つ記事のサムネイル付きで表示する場合、\n3つのサムネイル画像だけ取得するクエリを定義したいところですが、クエリに画像のパスをフィルタ条件としてハードコードしたくはないので、一旦、全てのサムネイルをクエリで取得して、JS(コンポーネント)中で3つにフィルタするようなケースがあります。この場合、不必要な画像も取得してしまうのでビルド時間が増えます。</p>\n<p>StaticQueryなどは、その名の通りStaticなのでJS中の変数をフィルタ条件として使うことができませんが、\nページテンプレートに指定しているコンポーネントのクエリではContextの値がフィルタ条件として使えます。\nこれを利用して以下のように、3つの画像だけ取得するクエリを定義でき、不必要に画像を生成せずに済み、ビルド時間を短縮できます。</p>\n<div class=\"gatsby-code-title\">config/featured-posts.js(クエリのフィルタ条件を設定ファイルに定義する)</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// 設定ファイルで3つの画像パスを指定する</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">featuredPosts</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'/blog/2019/05/09'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'/blog/2018/05/08'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'/blog/2016/03/18'</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">gatsby-node.js(Contextにクエリのフィルタ条件を指定する)</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// 設定ファイルを読み込む</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> featuredPosts <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config/featured-posts.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 中略</span>\n  \n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// ページ生成時にContextとして渡す</span></span>  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    path<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> postTemplate<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token literal-property property\">featuredPostPathList</span><span class=\"token operator\">:</span> featuredPosts<span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 中略</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">src/templates/post.jsx(Contextに指定した値をクエリのフィルタ条件に指定する)</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// 中略</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token string\">  query($featuredPostPathList: [String]) {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token string\">    allMarkdownRemark(filter: { frontmatter: { path: { in: $featuredPostPathList } } }) {</span></span><span class=\"token string\">      edges {</span>\n<span class=\"token string\">        node {</span>\n<span class=\"token string\">          frontmatter {</span>\n<span class=\"token string\">            cover {</span>\n<span class=\"token string\">              childImageSharp {</span>\n<span class=\"token string\">                fluid {</span>\n<span class=\"token string\">                  ...GatsbyImageSharpFluid</span>\n<span class=\"token string\">                }</span>\n<span class=\"token string\">              }</span>\n<span class=\"token string\">            }</span>\n<span class=\"token string\">          }</span>\n<span class=\"token string\">        }</span>\n<span class=\"token string\">      }</span>\n<span class=\"token string\">    }</span>\n<span class=\"token string\">  }</span>\n<span class=\"token string\"></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 中略</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>なお<code class=\"language-text\">src/pages/index.jsx</code>のように<code class=\"language-text\">gatsby-node.js</code>で明示的にページ生成しないようなコンポーネントでも、以下のように<code class=\"language-text\">gatsby-node.js</code>の<code class=\"language-text\">onCreatePage</code>でページを再生成することでContextを指定できます。</p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage<span class=\"token punctuation\">,</span> deletePage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// ルートページの場合のみ処理継続</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!==</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// いったんルートページを削除</span>\n  <span class=\"token function\">deletePage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// pageオブジェクトをもとにルートページを再生成</span>\n  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>page<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token comment\">// Contextにクエリのフィルタ条件を指定</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token literal-property property\">featuredPostPathList</span><span class=\"token operator\">:</span> featuredPosts<span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"3-生成画像の種類を減らす\" style=\"position:relative;\"><a href=\"#3-%E7%94%9F%E6%88%90%E7%94%BB%E5%83%8F%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E6%B8%9B%E3%82%89%E3%81%99\" aria-label=\"3 生成画像の種類を減らす permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 生成画像の種類を減らす</h2>\n<p>以下のように同じ画像でも、記事埋め込み用、OGP画像用などに違う縦横サイズ、クオリティを指定していると、画像生成枚数が増えて、ビルド時間も増えてしまいます。\n少しの違いであれば、ある程度妥協して同じ縦横サイズ、クオリティを指定して、生成画像枚数を減らしましょう。\nこれにより、大幅にビルド時間を短縮できます。</p>\n<div class=\"gatsby-code-title\">縦横幅、クオリティを統一して生成画像枚数を減らす</div>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> query {\n<span class=\"token prefix unchanged\"> </span>   images: allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n<span class=\"token prefix unchanged\"> </span>     edges {\n<span class=\"token prefix unchanged\"> </span>       node {\n<span class=\"token prefix unchanged\"> </span>         childImageSharp {\n</span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span>            // 記事の最大幅にあわせた少し小さめで低品質な画像を取得\n<span class=\"token prefix deleted\">-</span>            fluid(maxWidth: 800, quality: 50, pngQuality: 50) {\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>            // 生成画像枚数を減らすために、あえて縦横幅、クオリティをサムネイルに合わせる\n<span class=\"token prefix inserted\">+</span>            fluid(maxWidth: 1200, quality: 90, pngQuality: 90) {\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>             ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>           }\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }\n</span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> // OGP画像用に少し大きめで高品質な画像を取得\n<span class=\"token prefix unchanged\"> </span> query {\n<span class=\"token prefix unchanged\"> </span>   images: allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n<span class=\"token prefix unchanged\"> </span>     edges {\n<span class=\"token prefix unchanged\"> </span>       node {\n<span class=\"token prefix unchanged\"> </span>         childImageSharp {\n<span class=\"token prefix unchanged\"> </span>           fluid(maxWidth: 1200, quality: 90, pngQuality: 90) {\n<span class=\"token prefix unchanged\"> </span>             ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>           }\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"4-画像の縦横サイズを最適化する\" style=\"position:relative;\"><a href=\"#4-%E7%94%BB%E5%83%8F%E3%81%AE%E7%B8%A6%E6%A8%AA%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B\" aria-label=\"4 画像の縦横サイズを最適化する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 画像の縦横サイズを最適化する</h2>\n<p>画像のサイズが大きいとビルド時間は指数関数的に増加します。\nそのため、表示幅に併せて画像の縦横比を縮小しましょう。\n例えば記事中で最大800pxで表示するような場合、Retina対応も考慮すると最大幅は800px * 2 = 1600pxで十分です。\nそのためビルド前に1600pxより幅が大きい画像は全て1600pxに縮小しましょう。\n<a href=\"https://github.com/lovell/sharp\">Sharp</a>というライブラリを使えばできます。\n以下のようなスクリプトを定義して、package.jsonに<code class=\"language-text\">optimizeImages</code>のようなnpm scriptsを定義しましょう。</p>\n<div class=\"gatsby-code-title\">scripts/optimize-images.js(画像縦横サイズ最適化スクリプト)</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> sharp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">glob</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// 最適化したい画像のパスを正規表現で指定</span>\n<span class=\"token keyword\">const</span> matches <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/pages/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Retinaを考慮し2倍にする</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_WIDTH</span> <span class=\"token operator\">=</span> <span class=\"token number\">800</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n\nPromise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>\n  matches<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">match</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> stream <span class=\"token operator\">=</span> <span class=\"token function\">sharp</span><span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> info <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">metadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">.</span>width <span class=\"token operator\">&lt;=</span> <span class=\"token constant\">MAX_WIDTH</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// 画像幅をMAX_WIDTHまで縮小して上書き</span>\n    <span class=\"token keyword\">const</span> outputBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MAX_WIDTH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">,</span> outputBuffer<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">success resize markdown image. </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>info<span class=\"token punctuation\">.</span>width<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">MAX_WIDTH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>match<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Success'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonのnpm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // 中略\n    &quot;optimizeImages&quot;: &quot;node ./scripts/optimize-images.js&quot;,\n    // 中略\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>こうすれば<code class=\"language-text\">npm run optimizeImages</code>で画像の縦横サイズを最適化できます。</p>\n<h2 id=\"5-画像のファイルサイズを圧縮する\" style=\"position:relative;\"><a href=\"#5-%E7%94%BB%E5%83%8F%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E5%9C%A7%E7%B8%AE%E3%81%99%E3%82%8B\" aria-label=\"5 画像のファイルサイズを圧縮する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. 画像のファイルサイズを圧縮する</h2>\n<p>写真は無駄に高画質でファイルサイズが大きくなりがちです。\nこの場合、<a href=\"https://github.com/imagemin/imagemin\">imagemin</a>を使って画像のファイルサイズを圧縮しましょう。\n以下のようなスクリプトを定義して、package.jsonに<code class=\"language-text\">compressImages</code>のようなnpm scriptsを定義しましょう。\njpegは<a href=\"https://www.npmjs.com/package/imagemin-mozjpeg\">imagemin-mozjpeg</a>、pngは<a href=\"https://www.npmjs.com/package/imagemin-pngquant\">imagemin-pngquant</a>を使えば画質をそれほど落とすことなく圧縮できます。</p>\n<div class=\"gatsby-code-title\">scripts/compress-images(画像ファイルサイズ最適化スクリプト)</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">glob</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imagemin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imageminMozjpeg <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin-mozjpeg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imageminPngquant <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin-pngquant'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addSizeInfo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">filePath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">size</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">,</span>\n    filePath\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> matchesThumbnail <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/images/thumbnail/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> matchesPage <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/pages/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>matchesThumbnail<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>matchesPage<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>addSizeInfo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">factor</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> factor<span class=\"token punctuation\">.</span>filePath<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> fileDir <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">dirname</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> fileExt <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">extname</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.png'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileExt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token keyword\">await</span> <span class=\"token function\">imagemin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>filePath<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">destination</span><span class=\"token operator\">:</span> fileDir<span class=\"token punctuation\">,</span> <span class=\"token comment\">// overwrite</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token function\">imageminPngquant</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> compressedSize <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>    \n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>factor<span class=\"token punctuation\">.</span>size<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>compressedSize<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.jpg'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'.jpeg'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileExt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n      <span class=\"token keyword\">await</span> <span class=\"token function\">imagemin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>filePath<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">destination</span><span class=\"token operator\">:</span> fileDir<span class=\"token punctuation\">,</span> <span class=\"token comment\">// overwrite</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token function\">imageminMozjpeg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> compressedSize <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>    \n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>factor<span class=\"token punctuation\">.</span>size<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>compressedSize<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Can't optimize\"</span><span class=\"token punctuation\">,</span> filePath<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonのnpm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // 中略\n    &quot;compressImages&quot;: &quot;node ./scripts/compress-images.js&quot;,\n    // 中略\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>こうすれば<code class=\"language-text\">npm run compressImages</code>で画像のファイルサイズを圧縮できます。</p>\n<h2 id=\"6-生成する画像をシンプル低クオリティにする\" style=\"position:relative;\"><a href=\"#6-%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E7%94%BB%E5%83%8F%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E4%BD%8E%E3%82%AF%E3%82%AA%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E3%81%99%E3%82%8B\" aria-label=\"6 生成する画像をシンプル低クオリティにする permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 生成する画像をシンプル＆低クオリティにする</h2>\n<p><a href=\"https://www.gatsbyjs.org/packages/gatsby-image/#gatsby-transformer-sharp\">gatsby-image</a>では、生成する画像の種類を以下のように選択できます。\nレスポンシブ対応する場合<code class=\"language-text\">Fluid</code>系の画像の指定が必須ですが、\n<code class=\"language-text\">GatsbyImageSharpFluid_tracedSVG</code>や<code class=\"language-text\">GatsbyImageSharpFluid_withWebp</code>はSVGやWebpなどの画像も併せて生成することになるので、ビルド時間は長くなってしまいます。　特にこだわりがなければ一番シンプルな<code class=\"language-text\">GatsbyImageSharpFluid</code>を選択するとビルド時間が短縮できるでしょう。</p>\n<ul>\n<li><code class=\"language-text\">GatsbyImageSharpFixed</code> ← Fixed系はレスポンシブだと使えない</li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_tracedSVG</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp_tracedSVG</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid</code> ← シンプル</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_noBase64</code> ← 最初に表示するBase64のぼかし画像がないが、それでいいなら一番シンプル</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_tracedSVG</code> ← SVGを生成するのでビルド時間が長くなる</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp</code> ← Webpを生成するのでビルド時間が長くなる</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp_tracedSVG</code> &#x3C;-SVGとWebpを生成するのでビルド時間がかなり長くなる</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluidLimitPresentationSize</code></li>\n</ul>\n<p>また、クエリで生成画像のクオリティを指定できます。\nクオリティある程度妥協できるならば、低い値を指定することでビルド時間を短縮できます。</p>\n<div class=\"gatsby-code-title\">クオリティを下げることでビルド時間を短縮する</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\">  <span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attr-name\">images</span><span class=\"token punctuation\">:</span> <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">relativePath</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">regex</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/^thumbnail/*/\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">childImageSharp</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property-query\">fluid</span><span class=\"token punctuation\">(</span>\n              <span class=\"token attr-name\">maxWidth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">              <span class=\"token attr-name\">quality</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              <span class=\"token attr-name\">pngQuality</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span></span>            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token operator\">...</span><span class=\"token fragment function\">GatsbyImageSharpFluid</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"7-netlify-plugin-gatsby-cacheを使う\" style=\"position:relative;\"><a href=\"#7-netlify-plugin-gatsby-cache%E3%82%92%E4%BD%BF%E3%81%86\" aria-label=\"7 netlify plugin gatsby cacheを使う permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. netlify-plugin-gatsby-cacheを使う</h2>\n<p>Netlifyでビルド＆ホストしているなら、<a href=\"https://github.com/jlengstorf/netlify-plugin-gatsby-cache\">netlify-plugin-gatsby-cache</a>が使えます。\nこれは前回ビルド時のキャッシュを用いてビルド時間を短縮するためのNetlifyプラグインです。\n<strong>自分は、コレを導入したおかげで、記事を追加するだけならビルド時間が2分程度で済むようになりました。</strong></p>\n<p>以下のように<code class=\"language-text\">netlify.toml</code>を設定し、package.jsonのnpm scriptで<code class=\"language-text\">gatsby build</code>にちょっとした引数を指定するだけキャッシュが有効になります。</p>\n<div class=\"gatsby-code-title\">netlify.toml(Netlifyの設定ファイル)</div>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-toml line-numbers\"><code class=\"language-toml\">// 中略\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token table class-name\">plugins</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">package</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"netlify-plugin-gatsby-cache\"</span>\n// 中略</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonのnpm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // 中略\n    &quot;build&quot;: &quot;GATSBY_EXPERIMENTAL_PAGE_BUILD_ON_DATA_CHANGES=true gatsby-parallel-runner build --log-pages&quot;,\n    // 中略\n  }\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ただ、こちらはキャッシュを使ったビルド時間短縮方法ですので、初回のビルドは短縮されません。\nNetlifyのビルドでタイムアウトを解決したい場合の根本的な解決策にはならないので、気をつけてください。\nキャッシュでビルド時間がタイムアウト時間以内に収まっていたとしても、ドラスティックな機能改修でほとんどキャッシュが効かない場合や、なんらかの不具合でキャッシュなしでクリーンビルドが必要になった場合、結局タイムアウトが発生してしまいます。\nこの場合は先にあげた1～6のTipsを実施して、根本的なビルド時間の短縮を図ってください。</p>\n<h2 id=\"番外編1-circle-ciでビルドしてnetlifyにデプロイする\" style=\"position:relative;\"><a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A81-circle-ci%E3%81%A7%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6netlify%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\" aria-label=\"番外編1 circle ciでビルドしてnetlifyにデプロイする permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>番外編1: Circle CIでビルドしてNetlifyにデプロイする</h2>\n<p>本線からは少し脱線しますが、どうしてもNetlifyでタイムアウト問題が克服できない or ビルド時間が安定しない時はCircleCIを使ってビルドすると良いです。Netlify側でコケても、CircleCIでビルド検証ができるようになります。\nCircleCIはタイムアウトになる心配もないし、Netlifyより少しビルドが早くなります。</p>\n<p>開発用依存ライブラリに<a href=\"https://github.com/netlify/cli\">netlify-cli</a>して以下のスクリプトを定義しましょう。\nなるべくキャッシュして次回以降のビルド時間を短縮するようにしています。\nビルドが終わったら、netlify-cliでビルド資産をNetlifyにdeployしています。\nmasterブランチの場合は<code class=\"language-text\">--prod</code>を指定して本チャンdeployになるようにしています。\ndeploy時は、Netlifyのトークンが必要になるので、事前にNetlifyでトークンを発行して、CircleCIの環境変数に設定してあげましょう。</p>\n<div class=\"gatsby-code-title\">.circleci/config.yml(CircleCIの設定ファイル)</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2.1</span>\n<span class=\"token key atrule\">executors</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">node-executor</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">docker</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> circleci/node<span class=\"token punctuation\">:</span><span class=\"token number\">12</span>\n<span class=\"token key atrule\">commands</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">gatsby-build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> checkout\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">restore_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">keys</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># when lock file changes, use increasingly general patterns to restore cache</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> checksum \"package<span class=\"token punctuation\">-</span>lock.json\" <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm install\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">save_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> ~/usr/local/lib/node_modules  <span class=\"token comment\"># location depends on npm version</span>\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> checksum \"package<span class=\"token punctuation\">-</span>lock.json\" <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">restore_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">keys</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> GATSBY_CPU_COUNT=2 NODE_OPTIONS=\"<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>max<span class=\"token punctuation\">-</span>old<span class=\"token punctuation\">-</span>space<span class=\"token punctuation\">-</span>size=8192\" npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">save_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> ./public\n<span class=\"token key atrule\">workflows</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n  <span class=\"token key atrule\">build-deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">ignore</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> master\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">only</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> master\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">executor</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>executor\n    <span class=\"token key atrule\">working_directory</span><span class=\"token punctuation\">:</span> ~/repo\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>build\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Netlify Deploy\n          <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> ./node_modules/.bin/netlify deploy <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>dir=public <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>message \"deploy preview from $CIRCLE_BRANCH\" <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>auth $NETLIFY_ACCESS_TOKEN\n  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">executor</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>executor\n    <span class=\"token key atrule\">working_directory</span><span class=\"token punctuation\">:</span> ~/repo\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>build\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Netlify Deploy\n          <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> ./node_modules/.bin/netlify deploy <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prod <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>dir=public <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>message \"deploy from $CIRCLE_BRANCH\" <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>auth $NETLIFY_ACCESS_TOKEN</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"番外編2効果がみられなかった取り組み\" style=\"position:relative;\"><a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A82%E5%8A%B9%E6%9E%9C%E3%81%8C%E3%81%BF%E3%82%89%E3%82%8C%E3%81%AA%E3%81%8B%E3%81%A3%E3%81%9F%E5%8F%96%E3%82%8A%E7%B5%84%E3%81%BF\" aria-label=\"番外編2効果がみられなかった取り組み permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>番外編2:効果がみられなかった取り組み</h2>\n<p>ビルド時間短縮のためアレコレと試しましたが、効果がなかったものもあります。</p>\n<h3 id=\"画像取得系staticqueryを集約する\" style=\"position:relative;\"><a href=\"#%E7%94%BB%E5%83%8F%E5%8F%96%E5%BE%97%E7%B3%BBstaticquery%E3%82%92%E9%9B%86%E7%B4%84%E3%81%99%E3%82%8B\" aria-label=\"画像取得系staticqueryを集約する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>画像取得系StaticQueryを集約する</h3>\n<p>複数箇所に散らばっていStaticQueryを１つコンポーネントに集約してみました。\n確かにクエリの実行回数は減りましたが、画像生成枚数は変わらないのでビルド時間は短縮されませんでした。</p>\n<h3 id=\"クエリをgatsby-nodejsに集約する\" style=\"position:relative;\"><a href=\"#%E3%82%AF%E3%82%A8%E3%83%AA%E3%82%92gatsby-nodejs%E3%81%AB%E9%9B%86%E7%B4%84%E3%81%99%E3%82%8B\" aria-label=\"クエリをgatsby nodejsに集約する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>クエリをgatsby-node.jsに集約する</h3>\n<p>上記と似ていますが、すべてのクエリを<code class=\"language-text\">gatsby-node.js</code>で発行して、クエリの結果をContextで各ページのコンポーネントに渡すようにしても、ビルド時間は短縮されませんでした。</p>\n<p>また<code class=\"language-text\">gatsby-node.js</code>にクエリを集約するのは、以下のような弊害もあるため、あまりオススメしません。</p>\n<ul>\n<li><code class=\"language-text\">gatsby develop</code>時に<code class=\"language-text\">gatsby-node.js</code>を修正してもホットリロードされない</li>\n<li>ページのコンポーネントで使うデータを取得するためのクエリが、<code class=\"language-text\">gatsby-node.js</code>という離れた場所にあるので管理しづらい</li>\n<li>クエリでGraphQLのフラグメントが使えない\n<ul>\n<li>gatsby-imagesのGatsbyImageSharpFluidなどが使えないので、以下のようにフラグメントに定義されてる全プロパティを書き出す必要があります。</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-code-title\">gatsby-node.js中で画像取得クエリを書く場合はフラグメントが使えない</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">relativePath</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">regex</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/^thumbnail/*/\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">childImageSharp</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">fluid</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">base64</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">aspectRatio</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">src</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">srcSet</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">sizes</span></span>          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Gatsbyは割とgatsby-imageとの戦いで、画像の取り扱いが面倒くさく、ビルド時間も長くなりがちですが、\n今回紹介したようなTipsを使えば、ある程度ビルド時間は短縮できます。\nただ、これらTipsを実施してもビルド時間が短縮できない場合は、いっそのことgatsby-imageを使うのをやめて、\n他の画像ホスティングサービスを使うのもアリなんじゃないかと思います🍅</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Improve Gatsby Build Speeds With Parallel Image Processing</a></li>\n<li><a href=\"https://dev.to/biilmann/open-source-parallel-processing-for-gatsby-270d\">Open source parallel processing for Gatsby - DEV Community 👩‍💻👨‍💻</a></li>\n<li><a href=\"https://www.gatsbyjs.org/docs/preoptimizing-images/\">Preoptimizing Your Images | GatsbyJS</a></li>\n<li><a href=\"https://web.dev/use-imagemin-to-compress-images/\">Use Imagemin to compress images</a></li>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sharp\">gatsby-plugin-sharp | GatsbyJS</a></li>\n<li><a href=\"https://www.netlify.com/blog/2020/04/23/enable-gatsby-incremental-builds-on-netlify/\">Enable Gatsby Incremental Builds on Netlify</a></li>\n<li><a href=\"https://oioannou.com/build-on-circleci-deploy-netlify\">Building gatsby on CircleCi and deploying on Netlify — Orestis Ioannou</a></li>\n<li><a href=\"https://web.dev/use-imagemin-to-compress-images/\">Use Imagemin to compress images</a></li>\n<li><a href=\"https://www.netlify.com/blog/2020/06/11/5-optimizations-for-faster-gatsby-builds/\">5 Optimizations to Get Faster Gatsby Builds Today</a></li>\n</ul>","excerpt":"なにこれ 自分のブログ(Gatsby製)のビルドが遅すぎてNetlifyでタイムアウトしてしまうので、ビルドチューニングをしました。\n15分以上かかっていたビルドが7分以下になり50%短縮できたので、その時の知見をまとめます。\n割と地味な作業が多いですが、Gatsby…","frontmatter":{"slug":"/optimizations-for-faster-gatsby-builds","title":"Gatsbyビルドチューニング ビルド時間を15分から7分に短縮するためのTips 7選","date":"2020-06-22T08:30:00.000+09:00","tags":["Gatsby","gatsby-image","gatsby-image-sharp","Netlify","CircleCI"],"keywords":["Gatsby"],"thumbnail":"thumbnail/2020/06/optimizations-for-faster-gatsby-builds.png","category":null}}],"previous":{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>Slit Animationを実現するReactコンポーネントをCSSのclip-pathを使って作りました。\nSlit Animation(スリットアニメーション)は下記のようなものです。\nコマ画像を縞々にして合成した画像に、スリットを持つカバーを被せて横にスライドさせることでパラパラ漫画のようなアニメーションを実現します。</p>\n<p>デモはこちら ⇒ <a href=\"https://takumon.github.io/react-slit-animation/\">https://takumon.github.io/react-slit-animation/</a> <br>\nコンポーネントはnpmから落とせます ⇒ <a href=\"https://www.npmjs.com/package/@takumon/react-slit-animation\">@takumon/react-slit-animation</a></p>\n<p><img src=\"/blog/fa2410ba2fb6a4f63446413bfccccfe5/animation.gif\" alt=\"animatino\"></p>\n<p><img src=\"/blog/83306a709aca3018049ed4d392927fa3/animation-inco.gif\" alt=\"animatino\"></p>\n<p><img src=\"/blog/e367d0c2dfb6145fde488b4df114097f/animation-go.gif\" alt=\"animatino\"></p>\n<h2 id=\"slit-animationの原理\" style=\"position:relative;\"><a href=\"#slit-animation%E3%81%AE%E5%8E%9F%E7%90%86\" aria-label=\"slit animationの原理 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slit Animationの原理</h2>\n<p>CSSやReactコンポーネントなどの説明の前に、純粋にSlit Animationの原理を説明します。\nSlit Animationは何個かのコマ画像を合成した画像とカバーから成り立ちます。以下では簡単のため４コマで説明します。</p>\n<h3 id=\"コマ画像\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%9E%E7%94%BB%E5%83%8F\" aria-label=\"コマ画像 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コマ画像</h3>\n<p>それぞれのコマ画像を縞々にして１つの画像に合成します。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/9b379/description_image-mix.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABcRAAAXEQHKJvM/AAAEt0lEQVR42pWVi09WZRzHH96L2ew/0Mlyulk2tZxrmq4MxelCsxQiV6NAkYto001tNi2mooJZuWYpvPC+HsQZKBevBHIXw0vKpUyR94bwMuKOgO9zzqed9329TV3zbN99f+ec5/ns+zvntz2ipKTkK7vTmd/s8WQ3d3bmPFMeT067vTWn09n+bDnasu0t9vzSsrJ1osXpzAFQt26VxMZCYiIkJPiVmIi2ehUk7+CAvZCY5sMk3raQEJBex91KZ92dLDkMeFx3FWF3uxUdKMePH0EIicEgfR6oNd1fnyoXFMVJkTNHGnPnS5EbIkVeiAw6MV+KvHly9G8LR1rVbjrdHpuwt7Ye1YFMmCDbhaDebOaM0Uix0cgRs5nTQsAb01lYsglhC2XUTwswJs/FuG0Opi2zEBtnMiY/QnoYpMvtUYQjAPS+OkH2CIHHZKbdYMRlMHLLZMYVAC4q3og4FspL1sWYjizClLkQc3ooQenzeaXgY+lhwA98kFANDtbbBIMBnwdqVfcpUwk9twlxYinGgnBEwQpEYThBRRGIwuWMzo/0J7yrJ3S5fMCSX/JkQUomRWk2ivZa/Uq1kr8rg0rLaS7ezqSw4RtONSZT1PBdQMkU1m/nbNMOCRK3q00RrS6HDxi846oUG/7AsPkKYss1xOarGL6+jthwmcmp/9BfFwLlAq3KADUCLgqoDfK5VjlaggeHu+sRcMK2ailiTjJq1XFMn2Vg+tzKqMiDiIhDTEm5Qf/lEPpOCVx5RhptQTTYgvjTYqDukGC47OVnAJMvSRGdi/lLG8ZPD2KM/BnzshTE8h95bW8TQ1cW0JUvaLKauXzISNUBI+fTTJxPFcjyMU8Dg7dUShFTgiG+DJFQgYivwLC2GrGqlMnbr9JfEwK/C7QyA1QIv6qCoFKglT7WsisAjD9+Uy5Lryciq5FwSwPhmQ1EZjWyIrORjYWtDLXshL8/QmuMRG0I90lriECtX47WtFLCIA6XPjZ2u39sVFXy2KVpms+bb/6F5fCvHE7P4lazCy3wTntyrW+vw+F4BPRKVaoa6NI3qJrGv93dXKqtJcNiwWazcvVKHb09XTpCj/BQmiafBj6ecGBkhIHePgb6+hkcvs/Q4D3u9ffTPzTM0L0h+nq66e27F0j3nIQ68EGbfRersJ3NI7euipFyG8fO5ZNdW05/pUJR8UksZaV0u6offprnA6XXHzH+Cyat/4B3bN9DpGBG0lKmH02DWMGS1fMY98NuZH1cAKi3rP4fMIpJaxcx27IXPhG8lRDGNNtuWCUIi36XsWk78F6PfQFgXBQTkxYzOzM1AFzCtCN7fMAlMe8xbt9O5I0XASZGM3l9GHOt+2ClYGbSMmYoqbBG8OHqEIL370LWxz8XqASAw6r3vk70Ehflnbjmfe+sgyleIoT3zdhQ77RDO71EC29Y1NvesTu/9XqvxfrWqqqeQtVPAJxOp1W0tLTkPBwbTfUnvFCMteY0x+/UQ/EejlafIbulHsr3U1h+koym62g9Fx6M9ZN/uaKiIsntduc5HA6b/sBhtyuOjk6lu6NL6W5rU+ydA0q3fn+3TbF39CldHV1Kr8ejONwdim+9XzaXy5VXU1OT+B+NQ3H5jhfmcgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/ba381/description_image-mix.webp 200w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/7f61c/description_image-mix.webp 400w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/d00b9/description_image-mix.webp 800w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/d9249/description_image-mix.webp 951w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/772e8/description_image-mix.png 200w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/e17e5/description_image-mix.png 400w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/5a190/description_image-mix.png 800w,\n/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/9b379/description_image-mix.png 951w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/2c09ec2308cb40b9df2336c3a6c0cc9d/5a190/description_image-mix.png\"\n            alt=\"description_image-mix\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"カバー\" style=\"position:relative;\"><a href=\"#%E3%82%AB%E3%83%90%E3%83%BC\" aria-label=\"カバー permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>カバー</h3>\n<p>カバーには等間隔で隙間があります。隙間幅は<code class=\"language-text\">縞々１個分</code>で間隔は<code class=\"language-text\">縞々１個分×コマ数</code>です。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 685px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/036c1b029a3307238f01c918343766a6/8ce22/description_cover-slit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABcRAAAXEQHKJvM/AAAB6klEQVR42nVQXW/SYBjt33VemvgPNF64DAd6adSE8TG2Ih97y9RkygxGZFg6KJCWrmvDWMvoFxR4+7JjqvPCxJ3kPCd5Tp6Tk4cTRfHhYrH4GgRBNQgCwXFmwtXVWDAMXRiPTcHzHMG2LME0DCH272F1Pp/XJUna4obDYQp/EEURgzV1oGo6xE4XZ+0OHNfHpTFGq90B22zwP2w2GxaroihJTlXVF3fr1SKkzHaWzPFDZjtzZs/m7MYN2cxbMmsWMjdYxYeMUvoP1+v1Ok7QNC3Bxal/G4ZLCmV0iZ7cR/dcQkf8CcbYXYtbUHaLexDFQ1XVXU6W5aTruvB9L9J1E7blo974gdfv3iCdzSGTL+CgkEM2k4ZxocePQalawV4ui2z+APuFfWT23kaqMoBpmrvcYDBIRFGEZRiG5rVNAVC1r9Cj/Hv6qVqmHyo85Ys1mi3UqDmd/fZPj09ojS/Rj1WeknKFpnNHy/5QjwN34oapfq8HbTKJ0D4DHj0GaWSwvfqM1LmFV6017CANhAlg5wlunj9DwhXwctLC9ndAUGVg9ZQBLSiKmeREUdyybbs+dd2K3+uR8JAn39onpDA6JcX2gJSaF8RQa8Qb8SQgZWIdE1JU66QoN8lh0yANSSS+lq9412dfpG7/wS83vy7zuremrgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/036c1b029a3307238f01c918343766a6/ba381/description_cover-slit.webp 200w,\n/blog/static/036c1b029a3307238f01c918343766a6/7f61c/description_cover-slit.webp 400w,\n/blog/static/036c1b029a3307238f01c918343766a6/80e32/description_cover-slit.webp 685w\"\n              sizes=\"(max-width: 685px) 100vw, 685px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/036c1b029a3307238f01c918343766a6/772e8/description_cover-slit.png 200w,\n/blog/static/036c1b029a3307238f01c918343766a6/e17e5/description_cover-slit.png 400w,\n/blog/static/036c1b029a3307238f01c918343766a6/8ce22/description_cover-slit.png 685w\"\n            sizes=\"(max-width: 685px) 100vw, 685px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/036c1b029a3307238f01c918343766a6/8ce22/description_cover-slit.png\"\n            alt=\"description_cover-slit\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"アニメーション\" style=\"position:relative;\"><a href=\"#%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\" aria-label=\"アニメーション permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アニメーション</h3>\n<p>合成画像にカバーを被せて横にスライドさせます。すると、カバーの隙間部分から<code class=\"language-text\">1→2→3→4→1→2→3→4→...</code>のようにコマが順番に繰り返し見えることになります。これによってパラパラ漫画のように見えるのです。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/faa2fc90c70a0848e339f8cb451cc361/620ae/description_slit-animation.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcRAAAXEQHKJvM/AAAC8ElEQVR42lWTXW/bNhSG/Sf3D3bbH9C7DdhV0WJAh2JA1qzF1jVZ7MyN0axNl7kZYgRNETtSXNtILMeOLan+kCKSkiiJH3oHKVmDESBweHj48DwAWRkMBo+EEEPP89qj0chYrlZGzLkhhPgyGaVGnCQGldLwlkuDpanhB4FBGTNYHBvFWc758OLi4kHl6uqqBgBRFKnlaoXo+hq++xmnJ22cGR202yY8GgK+j/TgoCgFabWQJwmYbSPo95EDqsjPZrPNyvn5+ZZdbASBWJBAi19e6vr6d/qr357oe49r+uiPr/V8fqYxdXW4vq4VoJ1fX2gRBPpzt6unfzeLnLgFblS63W41jmM4jqPG4zGSKIJSEqq493akWQYoBeatQMMQoe+BMIKQENDAB6H0rsN+v19ljIFSqubzOZp7ezjrnaFvX6JWq6Oxs43pbFKCt3rvsSAe7OsFGsaNfq29jyXxS6DjODdASimyLCuTZKOK/Z01POy28LhxjPHJQwTLfnn4zfAIK+LDuV5g/+IYkMCfvRa8W+CsAPZ6vSrnHK7rqslkUoCRI0cmJVIhbuIsg9YaUkjwNIPIMqRSIUkzSCkR8eROuQAWyowx5bouDg8PUa/XcfThI5Ykxt7bN5hOZ2WHQ3uJ7193AOTYaHbwcTABiRP88Nb4vzIh5E75+Qtsrn2L+61dPP1nCOvoGwTzbgmczD381OyXwMbxEKeWizDJ8PP7wR3wP2XbttXl5WWpV4w811BSlqppmiLPcwghypkkSZkrYs7jIi6B0+m07PD3QtXzvMxxXfWu/ko9XftRPXm2rrbquyr0B8p1xkpKpVjIVUjnavypoYSGGn/aUVFIFFkNMmQfMHOjl19+ShzH5S34q4mTgyrWrFNst22k/jZEOIGQxXuUyEWA5Wi3LF1YryEzDk4tBZwUwM2KZVmPAFiMsQ4lxGScm5wnZhLHJuexSVlsUsrMJElMSqlJihpGzSAgZsRu1oSQjpTSGo1GD/4FG1Ws3rylK48AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/faa2fc90c70a0848e339f8cb451cc361/ba381/description_slit-animation.webp 200w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/7f61c/description_slit-animation.webp 400w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/d00b9/description_slit-animation.webp 800w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/88fcb/description_slit-animation.webp 1043w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/faa2fc90c70a0848e339f8cb451cc361/772e8/description_slit-animation.png 200w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/e17e5/description_slit-animation.png 400w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/5a190/description_slit-animation.png 800w,\n/blog/static/faa2fc90c70a0848e339f8cb451cc361/620ae/description_slit-animation.png 1043w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/faa2fc90c70a0848e339f8cb451cc361/5a190/description_slit-animation.png\"\n            alt=\"description_slit-animation\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"例\" style=\"position:relative;\"><a href=\"#%E4%BE%8B\" aria-label=\"例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h3>\n<p>最初にお見せしたRreactのロゴがくるくる回るSlit Animationは下記のような構成になっています。コマを縞々にして合成、隙間のあるカバーを作成し上に被せています。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/abd1e8400892394fc5e63a454f9b6756/29007/description_image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABcRAAAXEQHKJvM/AAAE0UlEQVR42p1U31MTVxTOX2QHOypEpeMDduyTVl8VZUB9dfofaH2xdErBNCTKUDp1pNUpliBLEBpqmwRiyS9CmEQCSTCQH7vZTbLZTXb37te5l6Qto7ZMd+bOPfec73x77jnnHovP53OkUqnFtbW12a2tLS6TyXCJRIJLJpPc+vo6R3Wbm5tspVIpLhqNsp3a6U71sViM+i56vV67RZKkCACk02mSy+VQKpVgmiY0TUMymUS5XAYhhEIgCALi8TgajQbaH8VTXyqXy+WQpVQqhSloYmJCHxm5T54+fUoSiSTxeJaI3W4nDoeDLC0tkWAwSCYmviM2m408fjxJ4vE4cbvdZHh4mIyNjenBYBCZTCZoSafTEZ/Ph8HBL8nt27cxPj6OFy9eYHJyEnfufI57977A/Lwbfr8f9+/bcPfuXdjtdqyurmJ6ehqDg4NUR2ZnZ5HP50MWWZYjGxsbcDqdZNhmYyB6nna58MDhxEPnA3g8HiwvL2P823E4Ru34/tEjdqZ654MxOJwPSSQS2SekOVQUBRuxGPmN45B8/ZrlJr+7B3/4FbwBPxqqynTpTAYutweiKLJzva4i4FtAciNENN2gOQ5ZBJ5nRUEuR/SxMRgADGIw1Y9vfscKn/irAIKs4auF1P7BNGAC0AvTMMRfWVEEvhSyCILACOVqlShSBc1mk+FplaWqhLqiQNd1VnlVVSFVqszW7gRVraNakUirC/4m5Hme0Bag16GktVoNxWKR6plcr9eZTDG0fSh5tVph52KxSFotFLLwrSsXCgWSz+cZuC7LqEgVmmTkC3lUKhVUazIjLBTyKJUKUBQZoiRSP4ojpklaEYr7EQqCwCKs1WTohoFqpQKB5yGURdTrMhoNBeWyAF6QIEk1NNQGIy2LIo3s7Ss3m03S1DTo9BUUi6AZrzTqkNUadAKkRQOKqkIWt2HUkjAlL0w1i0bTgKY13yYk7fdFCMhaFFj5A+vZMPyFbbxKvkZ2xwcor2Aq64C2Q3sB7K//8H03obkPgijhzXoIK5kM6mIcQJVVVG2S/dVowjCMQxC2SDfTacwvejD/fBaJ5DYUpYFbtz5DX18fbt68gd7eXni9XgbXdf3dhGYrOlmWMfv8OUbtdthHR/Hzs2fYyWZx8dIldHd3o6enB1arFXNzc4cjlCQJMzMzsNlsbBBM/TSF9HYaly9fwblzn+D8+Qs4e/ZjLCws/Dth+8ZUjEajePLkCZs64XCY9eKFC5+iq8uKM2fO4PjxE6AT5lCE7adHG3lra4sNWmqempoCHXWBQIDlj76kwxWl9dEq0sgWF3/BysoKIyLEhGHoB3D/SdgWX758yfLW39+P3t6rGBi4josXL9Hp3r7q4Qjb/TU352Y5O3nyFE6c6MSpU6fR0dGBkZGRA7hDE3LcHGuP7u6PYLWeZPvRox/CZvvm/xG63W50dnaxyGhVT5/uZoRDQ1+/n5Dn+VDLqBFCDLo0TWODm+M449ixY0ZnZxfbrVarceTIB8bQ0BCzUxzFU9/WTF2lhNH3FYW2yLVr13D9+g309fVjYGAAV670YnLyhwO4ti/P82FLOBy27e7uurPZ7PTOzo6rvXK5nCuRSLj8fr8rEAi4lpeX2fL5fK5YLMbsbSz13dvbc0cikZE/AWZmWfhaLjpbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/abd1e8400892394fc5e63a454f9b6756/ba381/description_image.webp 200w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/7f61c/description_image.webp 400w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/d00b9/description_image.webp 800w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/92f8c/description_image.webp 1200w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/fad48/description_image.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/abd1e8400892394fc5e63a454f9b6756/772e8/description_image.png 200w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/e17e5/description_image.png 400w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/5a190/description_image.png 800w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/c1b63/description_image.png 1200w,\n/blog/static/abd1e8400892394fc5e63a454f9b6756/29007/description_image.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/abd1e8400892394fc5e63a454f9b6756/5a190/description_image.png\"\n            alt=\"description_image\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"縞々をclip-pathで実現する\" style=\"position:relative;\"><a href=\"#%E7%B8%9E%E3%80%85%E3%82%92clip-path%E3%81%A7%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B\" aria-label=\"縞々をclip pathで実現する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>縞々をclip-pathで実現する</h2>\n<p>今回コンポーネント化にともない「画像を縞々にする」という課題がありました。\n最初は、画像要素に白い長方形のdivタグをたくさん並べてトライしましたが、それだとコマ合成時に下の画像ごと隠れてしまいます。\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/42337d4f4af57d6b4d157bfb57a7d125/29007/description_mask-pattern.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcRAAAXEQHKJvM/AAADEklEQVR42o2QsW8bZRjGP3XxUHVDYkH0T2Bi7sBWwdCFAbEwIpiokFCrIgStgJpWGZCqIkGFItQCBRKkDpUi4sRp45AmjePEzvVi+y7fd3f2nR37bF98Pt/nH0qCqGAofaRHj97l9z7vK1SplB/Pz2NPT+v9mRlas79TtCs8GOzy6KDO8kEVI3Yx2wnLKmbVS3ioEmR3BMkGk3gFHRc0lHHsxzmhrl1b5NQp2idOjG0hNC++rL98dEuL26/pzPQbWtw8o88uXdLnvt3S4p1ZnXn3Ny3euqs/mtnUrJ3WwazQ8mcxjucyOH9emBfu9et5Tp7EEULvCAEvvMQXyzcQ371K5uYZxFevcHb+Q87d2ES8+ROZt39AvP49F+4WoXAa70eBcUvo/r0M3urFnLDm5vJcvkx4/rwOz38An15hUa1x0bzD59Vf+Hj3DrfdBX4ttvnkviSbc7l032HBbIH/NVp+hlZXNOEUjnEvJ8xiMS+7XUr1ui5bFqYf0Ao7jJIRcTJimIxIxgnRMCaKEwZxcpTRcEScjhmOhwxGBxrAtnZyQk5P53FdokpFh6VNJu0O681dtppVtoM6Gw0Tvx/wuObz0GyyWHGPcrUakAw8+sEGoV/STBzqa988BfYrFb2/VSLd77LRNDF8CyOw2G5U2e+32awFrJo+D8qK1V2ftWqLJAroBdt0/YoG/2/gykqeKKLnurqvFKOwh+o0cfebeGEL1fUJox5OEGL7XWrNEKvZRQY9hoMOg66i11EaDrB2cjlh7e3lvUaDjVJJVy2LrXIZwzDY25OYT0yMyg5hGPIsaa2Pfug4Tk4oKfOHQ9Ju60GxSL9Wo1ev0TMMhuMxTCbA5Cj+62NN0Do9Bir1FDhqNPTB8jKRadIzTVqlElEy5nn0r4ZSyoUjYBAk7lI+bZTLabNSSd319bQTxSkTnaaHFZ7hNE2TQ4ZS6o9D4NLxmlTbQYDXadLo+Lgdnyhq/3PW8zRUSi2IQqHwvuu6U7aUVxuek3Xsalba1awn61nHfpKV0slKKf/PVz3PmyoUCu/9BfMIyNiVbX+7AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/42337d4f4af57d6b4d157bfb57a7d125/ba381/description_mask-pattern.webp 200w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/7f61c/description_mask-pattern.webp 400w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/d00b9/description_mask-pattern.webp 800w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/92f8c/description_mask-pattern.webp 1200w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/fad48/description_mask-pattern.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/42337d4f4af57d6b4d157bfb57a7d125/772e8/description_mask-pattern.png 200w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/e17e5/description_mask-pattern.png 400w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/5a190/description_mask-pattern.png 800w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/c1b63/description_mask-pattern.png 1200w,\n/blog/static/42337d4f4af57d6b4d157bfb57a7d125/29007/description_mask-pattern.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/42337d4f4af57d6b4d157bfb57a7d125/5a190/description_mask-pattern.png\"\n            alt=\"description_mask-pattern\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>合成時に他の画像に干渉しないようにするには、隠すのではなく存在を消す必要があります。\nCSSの<a href=\"https://developer.mozilla.org/ja/docs/Web/CSS/clip-path\">clip-path</a>はまさにこのようなトリミング機能を実現するためのプロパティです。丸や楕円、任意の形にトリミングできます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/37837a62cc83362e61e9d885046c4dc3/29007/description_clip-path.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAABcRAAAXEQHKJvM/AAADkElEQVR42p1Uj0/bRhjl/12iMsMCgRGtEoiWaV0rIRQmraxSYZuAbYyElBEQbEoACVRGSAoNxD/P+dH8sJ3YiZNc3nRXcGGbSrazns732ff0fffedwPJZPKZrpOEqipxTZF3GIimcMiyvCNJ0r0QRTGuKEoykUh8PUA0bRcASlWbVs0WjLqLd0YT+YqNdoein0Ep5T8qirI9oGnaDtsoylrnIpujby9Fev72il5JGq1UDWoYBrVtm5qm6c0sdhu1Wq3T6/UY4daALMs8w5OT1/Thwy8w8/gxQqEJbP626WVwenqK+XAYyWSSr9nm2+h2uzxDTdO2PcLj42M6MjKC8fFxCIKAjY0N7EkO8jUb01OT8Pn9GB0dRaVS8Uj/XvIdwqOjIzo8PIyxsTEMDg4iEongdd6F4bSxtPgSwtAQZmdn0Wq1+iNMp9P06dNnCIfD+OrJE/y+t+dtcBwHmUwGpml+VBROqF2rzM6h16PoUQo+8wf/SWWPsN0FSKFM86Ua9GIVerEGhZRBChW+JvkKJO0dh2lZaDQad2BZ1h3b7DqtLrIioQopQVSKyCkFXCkFPotKAapeAvsmqSWYVp2XbhiGh2q1+oFQVVVesiSK9MWL77C0tIjnz79FMpng5biui9XVFfzw4/dcnI1olJV4v21SqRT9LBBAMBjEgweD+OXnVVzWupBKJkKfj8Pv93MsLCx8/Axvq8wswwgFYQixyDr+kGxkdAvxzRiWl1dweHgI1231TxgKhTA1NcW9uLa29g+/9a0yW7A+JUQDIQSqqsKo1d4T/h/bsEXDdqjrdsDR7sBxXNQbDhp2E1adzQ7qDRvWdYx9c5wmF63ZbH5QmRBt12q4yGRVmlOKyEpFXOTyeHOpsxjOrwj+fCMjK7IYwem5gvNLgrMLlVvKskxUqlWepOdDfh+WSjSdTvMWS6VS0DQVnU4brWaT26RSKaNcLvNOYjEmDutrBsdx/t02ExMTmJyc5Er/ei1KmwJNx8H8N/OYm5vjndHX5XB2dkbHgkEwfCoI2H4VwV6ujq2sichPy/jE54fP58fLxcV7CXfeX7AnHUEQaCAQoD6fn66sLLO/qNuhtFAo0JmZGfpoeprqhLDNlHXHzeh2ux3Goarqltd6uq7TWCyGeDyOaDTKMr6TyU3/3mub/f39LwkhcVVV1/P5fPQGhJCooigcsix7cfZ+E7+FdV3X4wcHB4/+AjtkcUBRGb2RAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/37837a62cc83362e61e9d885046c4dc3/ba381/description_clip-path.webp 200w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/7f61c/description_clip-path.webp 400w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/d00b9/description_clip-path.webp 800w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/92f8c/description_clip-path.webp 1200w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/fad48/description_clip-path.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/37837a62cc83362e61e9d885046c4dc3/772e8/description_clip-path.png 200w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/e17e5/description_clip-path.png 400w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/5a190/description_clip-path.png 800w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/c1b63/description_clip-path.png 1200w,\n/blog/static/37837a62cc83362e61e9d885046c4dc3/29007/description_clip-path.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/37837a62cc83362e61e9d885046c4dc3/5a190/description_clip-path.png\"\n            alt=\"description_clip-path\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>今回は任意の形にトリミングできる<code class=\"language-text\">polygon</code>を使って\n<code class=\"language-text\">clip-path: polygon(5px 0px,5px 800px,6px 800px,6px 0px,11px 0px,11px 800px,...)</code>のようにして縞々化を実現しました。\nこれについても最初は、複数の長方形を指定しようとしましたが、polygonは１つの閉じた図形でなければならないという制約があり困りました。\nちょっと悩んだ末、ハック的に櫛型の図形を指定することで解決しました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/84db7447d6686f560592257b3dc2dc68/2bcd1/description_clip-path-stripe.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABcRAAAXEQHKJvM/AAAB/UlEQVR42o2S626bQBCFeeL+6JO06fNE/RFRKUVWSLBiBzCG3eViwFYLyy4XT0612JZ6S2ukT2dmV3O0Z4QlhFgIIe4453aWZTZj3GaM2Xme22VV2VVd25XRqj7XJ+r61Ncn7uq6du/v799b5a6A4IxYEoNzBsYSZFkKrTpc+72+vh6NhmF4Y6n+CJaWUyxK4mlFSVrRlpfEzsrzmsK4oE2yI55VFCYFBduceFZTxHaU5jXtD9/G4/EIz/M+Wm03YB0mFGxTREmGdcjhRwLBViCIBKI4nfV0n8+EcY6YF9jEGZjYYVfWx2ma8Pj4eGOZpzbNd5KyRds26LWa1fSdbCHbBkp10Fq9GZmI5si+758MpZSklELXdRiGwfRzfTnr+x5a6z9397cdXgzNYCclxnG82hBvGSqlSJ+HpnGcjUzdaz2rebXhKsM0y8AYIy4EDGa5lzg/c/VvMzw/4+D7dFgucXBdjGUJtVpB+z50FEEHAYbVCsN+f5n+T2TPg3x5IeV56BYLDEJAOg4614VaLmftHQe6KK4zpIcHYzh0T0+TXCymQYhJOs7Uue7ULZezaseZVFGYXUwgOumv9MYwCIIPFpIEmjHqNxv0vo+pqqDXa/RBgD6K0IchxvX6qsi+73+ytNZfmqa5bZrms0Ge9XeklP/itm3br67rvvsBIfYcVhip850AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/84db7447d6686f560592257b3dc2dc68/ba381/description_clip-path-stripe.webp 200w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/7f61c/description_clip-path-stripe.webp 400w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/d00b9/description_clip-path-stripe.webp 800w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/92f8c/description_clip-path-stripe.webp 1200w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/58c45/description_clip-path-stripe.webp 1561w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/84db7447d6686f560592257b3dc2dc68/772e8/description_clip-path-stripe.png 200w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/e17e5/description_clip-path-stripe.png 400w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/5a190/description_clip-path-stripe.png 800w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/c1b63/description_clip-path-stripe.png 1200w,\n/blog/static/84db7447d6686f560592257b3dc2dc68/2bcd1/description_clip-path-stripe.png 1561w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/84db7447d6686f560592257b3dc2dc68/5a190/description_clip-path-stripe.png\"\n            alt=\"description_clip-path-stripe\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h2 id=\"reactコンポーネント\" style=\"position:relative;\"><a href=\"#react%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\" aria-label=\"reactコンポーネント permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reactコンポーネント</h2>\n<h3 id=\"実装\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E8%A3%85\" aria-label=\"実装 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実装</h3>\n<p>縞々化の<code class=\"language-text\">polygon</code>を組み立てロジックは、Slit Animationの原理で説明したようなロジックをもとに、先に説明したCSSのclip-pathで実現しました。</p>\n<div class=\"gatsby-code-title\">縞々生成ロジック</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">craeteFramePolygonPoints</span><span class=\"token punctuation\">(</span>\n  coverSlitWidth<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// カバーの隙間幅</span>\n  coverWidth<span class=\"token punctuation\">,</span>      <span class=\"token comment\">// カバー全体の幅</span>\n  coverHeight<span class=\"token punctuation\">,</span>     <span class=\"token comment\">// カバー全体の高さ</span>\n  frameCount<span class=\"token punctuation\">,</span>      <span class=\"token comment\">// コマ数</span>\n  frameIndex       <span class=\"token comment\">// 何番目のコマか</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// カバーの隙間を配置する間隔</span>\n  <span class=\"token keyword\">const</span> unitWidth <span class=\"token operator\">=</span> coverSlitWidth <span class=\"token operator\">*</span> frameCount<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 隙間を何個並べるか</span>\n  <span class=\"token keyword\">const</span> unitCount <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>coverWidth <span class=\"token operator\">/</span> unitWidth<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 櫛型とpolygonを生成</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span>unitCount<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span> <span class=\"token operator\">=></span>\n      <span class=\"token function\">range</span><span class=\"token punctuation\">(</span>frameCount<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span> <span class=\"token operator\">=></span> i <span class=\"token operator\">%</span> frameCount <span class=\"token operator\">===</span> frameIndex  <span class=\"token operator\">%</span> frameCount<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">countInUnit</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> offset <span class=\"token operator\">=</span> i <span class=\"token operator\">*</span> unitWidth\n          <span class=\"token keyword\">const</span> offsetInUnit <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>countInUnit <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> coverSlitWidth\n          <span class=\"token keyword\">const</span> xStart <span class=\"token operator\">=</span>  offset <span class=\"token operator\">+</span> offsetInUnit\n          <span class=\"token keyword\">const</span> xEnd <span class=\"token operator\">=</span> xStart <span class=\"token operator\">+</span> coverSlitWidth\n          <span class=\"token keyword\">const</span> yStart <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n          <span class=\"token keyword\">const</span> yEnd <span class=\"token operator\">=</span> coverHeight\n\n          <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xStart<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>yStart<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px,</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xStart<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>yEnd<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px,</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xEnd<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>yEnd<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px,</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span>\n            <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xEnd<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>yStart<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">,</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">,</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 補助関数</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">size<span class=\"token punctuation\">,</span> startAt <span class=\"token operator\">=</span> <span class=\"token number\">0</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token function\">Array</span><span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">i</span> <span class=\"token operator\">=></span> i <span class=\"token operator\">+</span> startAt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>縞々ロジックが確立してしまえば後は簡単で、淡々とコンポーネントを作成していきます。</p>\n<p>縞々画像のコンポーネント</p>\n<div class=\"gatsby-code-title\">縞々画像のコンポーネント</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SlitAnimationFrame</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    coverSlitWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    imageWidth <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    imageHeight <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    frameIndex<span class=\"token punctuation\">,</span>\n    frameCount<span class=\"token punctuation\">,</span>\n    image\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>frameIndex <span class=\"token operator\">&amp;&amp;</span> frameIndex <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set frameIndex.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>frameCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set frameCount.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>frameCount <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> frameIndex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set frameIndex which is smaller then lastIndex of frame.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>image<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set image.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// 縞々ロジックを使う</span>\n  <span class=\"token keyword\">const</span> freamePolygonPoints <span class=\"token operator\">=</span> <span class=\"token function\">craeteFramePolygonPoints</span><span class=\"token punctuation\">(</span>\n    coverSlitWidth<span class=\"token punctuation\">,</span>\n    imageWidth<span class=\"token punctuation\">,</span>\n    imageHeight<span class=\"token punctuation\">,</span>\n    frameCount<span class=\"token punctuation\">,</span>\n    frameIndex\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n  <span class=\"token keyword\">const</span> FrameImage <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>img<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    position: absolute;\n    width: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>imageWidth<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>imageHeight<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    display: block;\n    top: 50%;\n    left: 50%;\n    -webkit-transform: translateX(-50%) translateY(-50%);\n    -ms-transform: translateX(-50%) translateY(-50%);\n    transform: translateX(-50%) translateY(-50%);\n    -webkit-clip-path: polygon(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>freamePolygonPoints<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n    clip-path: polygon(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>freamePolygonPoints<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>FrameImage key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>frameIndex<span class=\"token punctuation\">}</span> src<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>image<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n<p>続いてカバーのコンポーネント</p>\n<div class=\"gatsby-code-title\">カバーのコンポーネント</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SlitAnimationCover</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    frameCount<span class=\"token punctuation\">,</span> <span class=\"token comment\">//required</span>\n    coverWidth <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    coverHeight <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    coverColor <span class=\"token operator\">=</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    coverSlitWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    startAt <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    endAt <span class=\"token operator\">=</span> coverWidth<span class=\"token punctuation\">,</span>\n    duration <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>frameCount <span class=\"token operator\">&amp;&amp;</span> frameCount <span class=\"token operator\">!==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set frameCount.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ここでも縞々ロジックを使う</span>\n  <span class=\"token keyword\">const</span> coverPolygonPoints <span class=\"token operator\">=</span> <span class=\"token function\">craeteCoverPolygonPoints</span><span class=\"token punctuation\">(</span>\n    coverSlitWidth<span class=\"token punctuation\">,</span>\n    coverWidth<span class=\"token punctuation\">,</span>\n    coverHeight<span class=\"token punctuation\">,</span>\n    frameCount<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> CoverDiv <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    top: 0;\n    left: 0;\n    position: absolute;\n    width: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverWidth<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverHeight<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    overflow: hidden;\n    &amp;:after {\n      top: 0;\n      left: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>startAt<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n      position: absolute;\n      content: '';\n      display: block;\n      width: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverWidth<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n      height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverHeight<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n      background: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverColor<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">;\n      -webkit-clip-path: polygon(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverPolygonPoints<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n      clip-path: polygon(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverPolygonPoints<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">);\n    }\n    &amp;:hover:after {\n      left: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>endAt<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n      transition: left </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>duration<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">s linear;\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>CoverDiv <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n最後に全体を取りまとめるコンポーネント。<br>\n縞々画像とカバーを重ねて表示します。<br>\nホバー時にカバーを横スライドするようにしました。\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span>\n\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">SlitAnimation</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>  <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>\n    images<span class=\"token punctuation\">,</span> <span class=\"token comment\">// required</span>\n    imageWidth <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    imageHeight <span class=\"token operator\">=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n    coverWidth <span class=\"token operator\">=</span> imageWidth<span class=\"token punctuation\">,</span>\n    coverHeight <span class=\"token operator\">=</span> imageHeight<span class=\"token punctuation\">,</span>\n    coverColor <span class=\"token operator\">=</span> <span class=\"token string\">'#000'</span><span class=\"token punctuation\">,</span>\n    coverSlitWidth <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n    startAt <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n    endAt <span class=\"token operator\">=</span> coverWidth<span class=\"token punctuation\">,</span>\n    duration <span class=\"token operator\">=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>images <span class=\"token operator\">||</span> images<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token string\">'You need to set images.'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">const</span> frameCount <span class=\"token operator\">=</span> images<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> cover <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>SlitAnimationCover <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">{</span>\n    frameCount<span class=\"token punctuation\">,</span>\n    coverWidth<span class=\"token punctuation\">,</span>\n    coverHeight<span class=\"token punctuation\">,</span>\n    coverColor<span class=\"token punctuation\">,</span>\n    coverSlitWidth<span class=\"token punctuation\">,</span>\n    startAt<span class=\"token punctuation\">,</span>\n    endAt<span class=\"token punctuation\">,</span>\n    duration\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> frame <span class=\"token operator\">=</span> <span class=\"token function\">range</span><span class=\"token punctuation\">(</span>frameCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">frameIndex</span> <span class=\"token operator\">=></span>\n    <span class=\"token operator\">&lt;</span>SlitAnimationFrame <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">{</span>\n      coverSlitWidth<span class=\"token punctuation\">,</span>\n      imageWidth<span class=\"token punctuation\">,</span>\n      imageHeight<span class=\"token punctuation\">,</span>\n      frameCount<span class=\"token punctuation\">,</span>\n      frameIndex<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">image</span><span class=\"token operator\">:</span> images<span class=\"token punctuation\">[</span>frameIndex<span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> Container <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    position: relative;\n    width: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverWidth<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    height: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>coverHeight<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px;\n    overflow: hidden;\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>Container<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>frame<span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span>cover<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Container<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>これで完成です。</p>\n<h3 id=\"使い方\" style=\"position:relative;\"><a href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\" aria-label=\"使い方 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使い方</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">npm i @takumon/react-slit-animation</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>でインストールして下記のように使えます。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> SlitAnimation <span class=\"token keyword\">from</span> <span class=\"token string\">'@takumon/react-slit-animation'</span>\n\n<span class=\"token keyword\">import</span> parrot1 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/1.png'</span>\n<span class=\"token keyword\">import</span> parrot2 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/2.png'</span>\n<span class=\"token keyword\">import</span> parrot3 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/3.png'</span>\n<span class=\"token keyword\">import</span> parrot4 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/4.png'</span>\n<span class=\"token keyword\">import</span> parrot5 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/5.png'</span>\n<span class=\"token keyword\">import</span> parrot6 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/6.png'</span>\n<span class=\"token keyword\">import</span> parrot7 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/7.png'</span>\n<span class=\"token keyword\">import</span> parrot8 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/8.png'</span>\n<span class=\"token keyword\">import</span> parrot9 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/9.png'</span>\n<span class=\"token keyword\">import</span> parrot10 <span class=\"token keyword\">from</span> <span class=\"token string\">'./images/parrot/10.png'</span>\n\n<span class=\"token operator\">&lt;</span>SlitAnimation <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">imageWidth</span><span class=\"token operator\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">imageHeight</span><span class=\"token operator\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">images</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      parrot1<span class=\"token punctuation\">,</span>\n      parrot2<span class=\"token punctuation\">,</span>\n      parrot3<span class=\"token punctuation\">,</span>\n      parrot4<span class=\"token punctuation\">,</span>\n      parrot5<span class=\"token punctuation\">,</span>\n      parrot6<span class=\"token punctuation\">,</span>\n      parrot7<span class=\"token punctuation\">,</span>\n      parrot8<span class=\"token punctuation\">,</span>\n      parrot9<span class=\"token punctuation\">,</span>\n      parrot10<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">coverColor</span><span class=\"token operator\">:</span> <span class=\"token string\">'#444'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"いけてないところ\" style=\"position:relative;\"><a href=\"#%E3%81%84%E3%81%91%E3%81%A6%E3%81%AA%E3%81%84%E3%81%A8%E3%81%93%E3%82%8D\" aria-label=\"いけてないところ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>いけてないところ</h3>\n<p>スリット幅、カバーの色、カバーのスライド速度など調整できるようにはしていますが色々と難点があります。</p>\n<ul>\n<li>使う画像ごとに、うまく調整しないとなかなか動いているように見えない</li>\n<li>ピクセル幅にシビアなのでサイズをレスポンシブにできない</li>\n<li>モバイルで見ると固まる（レンダリングがかなり高負荷）</li>\n</ul>\n<p>などなど実用的なコンポーネントとは程遠いです<img alt=\"emoji-cold_sweat\" data-icon=\"emoji-cold_sweat\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAWv0lEQVR4Ae2bBXAcx9a2n9MDi1pJlmzJdmSmMCcXQ5eZmZmZmZmZmZkpzHTtsG9MchyzbOFK2t2hPv9K6iqpFNvXf5x8fKre6llpt6ef95weHuF/eZj/M+B/d/yfAT73erzf5E555bLQ1+NVvWNFWGHxu1VMmyBFAEVronbYkO5VZYtItj5O41ujG76zFbDciyHw/nsDWiqn7jhDvcJjEf+h1guP8XxTFGMQz8MIiAEEAFBQC1ZBswy1liy1NZPF/0LT8yWr/7G6rud6QO95A+7JOHV3scX4T1UTvBA/f38v8IwXehjfIIAKAIhMiWl+VKfxxLVZqmRxSpZklrRxldjku6M2/SVQu8cMaA6aI451G/2W0499tvUKbzJheJwf+vihQQxYIBdCWxm65sDcNujqgHIBQh8A4hTG67B3APqHm+0gDI9BHIMAaiGNbVMpNo5uM1njM6P/XP9jID1yA7iEI4nKaYvPwG//qAbFBwX5gCAnIOAHcNRcOH4FnLQSlnZDRwXyAXgeAOisMswyiBIYqMLWvXDTZrh1C+zcD2kCKCSRkjQSJKldRDr0TuD6IzKgctpW7k5U1y6TljP73ihB5QN+PlfKFQTxIAzgmKVw3mlw0nJobwGA1IJOSEEPMR/FbR98AwBDo3BTL1y8Fv51hxIngmYQNZSsHo/bZOR9o9d1fRbQ/6htgLSfuraiucVfNmHl2bmSkMsJeLBsgfDoBwinr5JJI5IU7N1ckbrWAIEPUQJrNyl/ulLZtlunTIiUaNxi49EfS3Tnq4fWnVYF9N40QDpPvmG+Fnt+4heL5xRKQhBCmBPOPdXjEfcxtBYhykD00GuSuwIf9A/qKiP0YKQGf7vWcsm6jDhS0hhq40paq10qtR3P6r/xlD2A3hvHAdJ5/yvne6b790ExOL3YkuIH0F4RHnd2yGlrhCxTxhsgcgQuH8KUJJky4YlnCYvmCX+4LGGoqgQ+1ExwTtIcW3OMj++/6gHOhHvOADnq2F+2W3/hz3Il7/RSS4wfCp3thiedV2DFQqEWZQgg3LuRAprCySuFSsnn1xfV6R+yhJ4y7nmnR+MLf9Yc6xN2rn/qEKD3hAECmGDu0V/0S+asciUmlzO0thoef06JxV0TWU8xs7N+Dzuhs1DGU1g8D550bsDvLx1nZMQSGMuYmLNSOfqLwPMAC+jdN8DBLz/78jf6peBZldaYYtEjnzc8+IwSCzuhHk3Bz17TPcx/l74VqEU0xyDNsfhceM04Dd/iS0aV4FnNMd/ce9lZn/13Jvj/Dn7VA39yalAsva9SSSiVlSDMOGlNkRULPBpRgjGQHWnGj6AiopTJsQyuMdy8oUFgFF9Tqlnpfc2xX7bpimetO5QJcij4rq6H5rtOfPNfy22tZ1XaQnJ5YV5njrNPayMMBAUEOWBPxhjUWpQjCwHEGKy1By4JtxAnymVrh9nXHxE1lOpwzNjIyOV9N336kX195zcOZoJ/KAMWnPjcpxXK3lltlYRyUcnlDWuWFAn8FJspgqAzwRXECEEYMFodxvdDPM9wJJFmljSNaalUSOIEtQqz1qkogS8cvcSjUYuJjMXYFFLvLK/J0Hf++T8C9PAMcPAL1zyhUsqFb21tSaiUDIVCRsecPPPaBU0jAHRW5gN3cP+XX/2Vi/58Pm/64JvoXjCfNE25O+H7Pvv37uEz7/0MD3r0Q3nEEx8KHiRxCswywcLcdqG7QxkcjPDUIkmCScK3Nln+sGvD70amTTi0AQbwViw960nFsl3dWk5oKQr5gmH+3AKhl2CtMjM8z5ArBOzevptffv9vXHLxlRy/ejk9C9uoRTVQ5e5EYmOOavZRzrfx7a/8jN7bd/DU5z+CBYvmEdUTsswyM0JPmmMU4nqMj0XSBBvb1RMsTQN+4OCzQxkggMyZsyJXynkvqpQzKsWEUkEpFgPaSgq2gSgg4HuGMBdQHaly/h/W8ZdfXseewRotuR7e/O7nEgRArY7czS2kWiUMipN9vfrF324au4ENN23nUU89k3MediqV1jJxlExOExSw0F5ShoopPgmSptg4Q+rei5pMPx8c3JI5Rj2UAd4ppzz6lHJJT2stJpRLhnLeUi4K5VxG4IPvG1Qt+/tGuP7qjVz819u4c9soliIt4Vw+8aknsPq4LrZt34dnzBFtAavDtYm+mn0+h7e9+XfsH4z54dev5LK/38x5jzyOM+63mrldrYgY0tQi+YzWYopnY4xN0DjBNlkmmC688PPXAPZQBhjAay15j20pJKZSimgtQD5nJ7cDNqmyY8cw27bu59Ybd3HbTXsYGEwRSqS0sayngw9//JGsOamNzVu2E4iAckThCezYvp37PegovvW95/Dut/+VrTsG2L4t5XtfvZY//nwtx500n+NPXsiSZXOZ191GpZSgSYSvCcQR6XhisiYTcD2QAfZABghg2tvbg3IxPbe1GDfhY8o5KBaVrB7xvg/8nC1bpzKtFPAoAmU6Wyo8/inH87JXnYqaYbZu3jQJf6AQhNmhgOCWD+CYB5N9rjymm1/+/tl84yvr+P2vbqV/NGDfYMIFF+/kwos3Y6ixYlkLb3jrw2ktCjWNocmQFWPSJtME29DQUAoIoAc04D7H32dZa86ubismVPIRpRyEfkrb3A6e9JQH84+/9DJWNRQKJXoWdXDfByzh3Acvonu+NqfBJqojY4SeQZBpGFV0dqs66zqAQFMGJltxLe5/KsqubVsn5/3b330Cz3/RiVxy4XauuXJbs0IGqNfHKVcsD3vUchZ2FxkeGsDLWUwSYYsJaZNpgu1vl//t9kMZ4M2rhMe35NNCJZ804SMKoRJ4PqRDPO+5J/DSl55FrWYJAiFfyIjqw+zfdzu33zICqvgikFmszdBJ0IllBRRVAAU9UKbF8U63xggiZsoY42HEUBsZb65rH21zWnnq07p5zvMfSKPukSRKsWiIGwNsvP0W8l6MF6aQi7H5hKjJNMEGbALkoFNgTp5j2nIJLfkGLaGQCxU/SDEas23jdYS5PEEQkGUZSRyT2QzU4qEOWKEpM6NTzGEef+pBDnkVxLrKcBrtH2Z0YAee8Qhy4WTblyTEUQNfE4qhJZUMP4mgyRLnEmpNNuB3BzPAAKYcpMtbwpRSGFMIDDkfgsAHI6ARktRIEwHAV8XDztqJ3vtnQy6cMQZtCCkgKCEWPMAoiaaYIMKGMUmYMtpkw3HONkCcvEqQzCvlYorBhITQB9/LQByR6mzYA9AqIkIQ+hgR0jSb1OG7ovi+NymrShKnqOqB1nNXc4zM6CPFCyI0iElyMeUmG+AB4qSzp0BQNlFbeQLea1DwIDCK5/mAHhaAoBjPYK3yr1u3MTw8zupVRzF/fgdxnBzWHAjDgD17+ti4aSdtbSWOOXoJxgg2syhymOUi+FmKZ2LUa5AFMZUmGxAcchtQ9LN8wUTkPZ+cEQLfTs6vwyB3CRAyq/zy55dw87oNeAKXFAs881kP4YQTFhPH6SHHHeZ8brmll5/+5AKSWp1M4cRT1/CMZ5xL6AtWp7N+aHzI/AzjJVivQWoiJtgAcyADxLWmJBG5SXmEIgSSYcRjpC58+o95nn7/mON6MgCQu+Yyl/O57IqNbLp5Ayu7AwJfGKg2mrvPK1i9opVCPsBa5UBhjFCvjU1+t9Vr0LEwJEl1sq+bVs/j7AesJorSaX49yNmxaz0yRBKsNEglYoINMAeaAupaE2rSyNMgL4ZQlECCSQN+dEUXv7hxBbure/nhS3sxMjXPQae7AzwJ6N20ja5Ww7yKwTdCIQjYPlBl967dnHhcF9FBqiAX+vT29hGPVlnUEVDOGVKrJImhd+M2zntgD6GXgE6nWRF3XCF3mV1WpgxAIlIaTLABBtfDAc8FfI2qoTYILIRk+BIwUsvxy/UnQlcPV++fz23b7+S0JSMgM+DN1LLxAtK4QUveUAwE3wNVIWeULB0jF5bQ7AAGCORDf+o7RimFQjGENJPJvib69PwxRBOwgAooqDoTxCEhqIKIYsVOfl9txATTBNuhrgcogMmi/lB9fJSAFE8D/nzrUextWY3f00Ha38YP167gPksvRQwOHsSZEeZDuheU2L6/HzHTCcnnA7rm+/iMEPqWA4WHmfjO5HfBeWvAZnayz2I4TpzFqABWQHGaMlnFmQKIglWLkGBJJgyYZDvY2aA6UYujO73Uw8sUz6ZkieX7609n4cnd/PpFi3jHP/r582/P5K39V7J83ogzwWVfwKfBfc6ey5abdjJes+RzwuBQwqJjulix2mDHq3i+cJewYDNlxaoyi9bMYd+/+gg6AxqREqs32acvVTKToQquxh2JOCpBVZwBgLUYm2LSBC+NJtlm886ugHTfSKP3mNjDpCA24/wNi9ngHcvbzpnLfeYHvPqBc7j82gXNKjiaDz/mElz5I0JTStpQTjimhUe+aCVX/OZOqtWU7uM7ecqLe8jpEIlJDnwF1QCqBJrwtJf28KvvZPRtHCEoBc2+Fjf7VBr7RvFEUAQMgMt4JiAAghoDFtz5hjOgqThigg3IDnY6bIH0n7vqW89Z7TdMonnJfL63/r60rurgkcuKrB9Sju0IOe7kDn550QN4Y+0SOltquCnguJR0sM6Dz2rh5PuupFazzOs0+NVBkvEY48khj/SyqE5XucHL37GAfQPdFIuGjiClsXsfxpue41hngk5lnQnhpgECMgHfVJZikhTiuDHBBiSAPZgByc/X13a+5oxcbzmWY/+5vYerkjN51AntdJc89jegMy88+vhWPnr9Cn5+wzG87pyrABAAZwKiRHsbtBc9OkJDsj8lzayD//d3Q9NaA9MYo6fgY+uWaCBDjGBUwALIjJ/IjIoyKAYUFDDWYlKLxCmNsbh3gu1QBigQjSck/dXo2rkNPfbbvQ9Aejp53JoWxlMhsTAUKQ9eXODbq9r57s0P5WX3v4pSLkZEYVKA2y5kMWQJYMC4vx3ObVpxQEktAgXjzdjowcyMu6wzveyqQDJtCkgyJIrpr8bXTrABEaAHMyAB6pdtj65kTtcL/p6cZ045dg4nzA0ZbCgqQjURuvIeDzmunZ9sOI4/3rqaZ5+xbgrOcIB2lgDQf++CAuLaGVkHZ4QIOgMacaaocc8aKZI0Vc/Q8chetj2+EqgDycEMALBA7Qv/zDasbXv0SLZmfvtDV5exCA0reAJWYSSBhywr8pdlnXzuxsfzlFPXkQ9TMCB3NWLG2OXwTod1RiXpNLgyywgctJOIoNYgGWiqSGShnjI6kt42wQTUHCOHMqBenfeYRf8oPryyaHEbazpyVBOwbkwWGEtgbsln5aIy6+44lV/ccAIvuN91YHAHRLMqAAUPyAHejMxmTIMCWPe3GFAcGFMy4vwTcC3qKsCKmyIGtRlkgqYWogwZTbl5d/r7akIdJnVIAxSo0/2AhxQWdHlHdRRQMSTWrdwNPFOwKnS35Wlb2Mb3bj6PFzzgOvAcPDOyHwB5iEdh8y3Kxo3KnXfC4BDEEYhAoQCdnbBsmbB6dbNdLJAD6goZYFzpIeDpFCx3vc2hmTYlaJxh6xY7mjEylG1715VcBlSB+uHcGElpXXBy27wi7eWQ0UToLDo2poQRBhvQkguaAy+wfvMa8GUaGplqi8LoEPz6R5aLLlB2bYcsBl/AN2AcR2Yh1Qkp+RIsXwWPfYzwiIcKkgMiwBOAKXgRZ8qUhOllTcA2IBtTsmHLNTv0h70jjMKk0sO5NaYUCu2VckBr3mMoFnoUcgYAcMnY34BCKLQWfXaaCngyo+SBPGzcoHzwA5adW2FuWVjeAbkAAgcvAqibDQpJBrUY9myGj31EueRS5d3v8mitAMmshwxVnNEOfEIpaGTJ6pZ0JKOv397wiou4DBgGxg775qhgCY1S9BWA/XXoKkDOg9RCfwSRhZLvLpgYO20AgAdjVfj4xzOqfXDSMmjJQc4Hbwb8zFALmU71Pz+F4TrccB185WuWd7zTQ6yAMgPamZAJqqAZ2IYlGdcmvKUxmDW+cZN+ZaRB1RkQARyWAdqo9iVRtMymKb5YUjUMxxA6A+op+GqxWUaaJJTsgKNiSiHcsV4Z3A+rFsPcFigEYAzIQXaCM/+eZlCKQD3YsAHqo0KxJJAB6gxgSmpBE9CGxY4rdsSSDWRcd4d85/NrtRcYcPNfD9sARndeMdx3zH2rSxtE7QU052FVSDLIFFAlyTJG6xHD/WMc13ITWAEPUCCFuQsMXd0Q+EKuqBgD1jLVRwrWKlYBpozxjOB54E8ogLwPXhWWLBVyLQYSnYKfOd9T0BhsHeyokgxb4v0pvTvs+Y//nf4B6AcGgRjg8A3Yfdlv929Z88I7F7V1zmkJCT3B5n0CT0itMh5n9I3U2bl3mL2b9/Cu0y+CdMY+Pla6Fxie+Lwcf/lJzL5RKJaFfEkotgqFCoR5aQrUQtyAqK7URpR6FRpjyti4UpgrPP3FIZ4BLKAzyj4GYkFriq1akqGm9mXs22Vves6f9ZvAkIMf+/9/RGbnJbuSjhM/tnFd62dyPiRxSmclT873SKxleDyid/cI62/cyZMq3+e+XVvRhoEAxBcwCqPKwx/uc/TJPiPDSqVV6egQikXwzMynonFgkGTC6BgM9EN9HOYvEOYWFYYsYMBlnUTQCLer0yn4vgn47PYX/10/uWGQvcA+N/ezu/Og5Bygk1Pf9vTy8jPfvOiYhS3zuisU8j5xnDEwUGP7pj4ekf2At5z8B9o7YeEiD8mBhIoETB8UlQVCIFWIdaqd/djXzAMcXyB087yhUMOVvJvrqaB10JolHVWyEUuyN2X3Dnvjy/6un75yJzuB3UAfMApwdwzwgcWAx8onr6Lr1Gfm2xbcz8/nK1lUT9L+rTtf0fb78DlL1x/nzzH0LPWodAhSEkxeICeID+IpeC7T4loAc5DLuBYAHLArd9DMZT5WbEPRMSV1+/lkf8aW7faCZ/5Jv71lMvOT2g8MHemjsi3A/FnfrYCrDih/9Gxz9mOP0yce1ePl/A4PryJ4ZYPkQSZMCHFGAGaGZNbaFdc6pUyBW3AbOjRStA7ZuCWrKulgRn0ga1zdK9970m/t34Bhl/X9blk5jPA4eMRuKMUZQ01m3F+Xi+7UXt9y5aqCdhWtzlf3n8k2E7C4bwuaCaiTBRS3PCEctEAqaDwh0IaiNbBjkI3aqXIfsKR92UTJ3/D5q/VTb7pYrwcGHHw/MALoPfmwdA5odUZ4gAK+UxFoL3i0fOXh3O+cpfLEtk6z1Gs1eC0GUxSkIHghEAoSAB6IAYzAzAqwijrDNAEiJYtB64qtKdnYlAHD/faOS+/Q377q71xdzxh1pT7gNArof9QrM2VnTDvQBlQWlil/+BxOu2+PPKyjXY73y0YmTPCKZnpKBAIekzIGAKwDR12pu5LPanYSPh2zOjCot16zU//x7ktZu2uMMcAd4THksj72n/HOUA5oASrOhBZnjP/601j6qJXmtKXtelq5hSVhweRMTiAQxAfjz6wAsKm6XZxiIyWu22hslG13DMnav2y2az+/ljuA1IGOOviqW47+M1+aMkDBwTtRBEpAzgPzmFXMO6uHhas7TE9nURcUA+bkfMqBRw4gyYiilLFawmB/TXZvHLA7Lt/Brj9tYl8G1gGOAzUH7EQdsP9V3hrznRElp6L7nAdCJ8/J4toZJma41il2agB1Bz/uVAfS/3qvzU0bkQPyTgUgnGWCce3MyAA7Cz52sA2naCb4f1UDZvYdzJLvWmcAAgDoDAMSB5nMkt47g/yPCweNcTrQ4x7WyZlx78f/A5XVFJimBjmKAAAAAElFTkSuQmCC\" title=\"emoji-cold_sweat\"></p>\n<h2 id=\"まとめ\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>思い付きで作ってみて一応Reactコンポーネント化できたのはとてもうれしかったです。\n最近のCSS周りは、なんでもできるようになってて楽しいですね🍅</p>","excerpt":"なにこれ Slit Animationを実現するReactコンポーネントをCSSのclip-pathを使って作りました。\nSlit Animation…","frontmatter":{"slug":"/2018/12/02/","title":"CSSのclip-pathでSlit Animationを実現する","date":"2018-12-02T16:00:00.000+09:00","tags":["CSS","clip-path","React"],"keywords":["React"],"thumbnail":"thumbnail/2018/react-slit-animation.png","category":null}},"next":{"html":"<h2 id=\"なにこれ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"なにこれ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 133.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAIAAADzvTiPAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGdUlEQVR42i2UaVdTBwKGb9tBqWS5ucnNAknIvt7cJCSB3KwQCBAwQIKyE1lGEDA0MiwRQbFgFamKQKXAIKioVAVZooIog4JFi464lyl0U3s67TjTmXPm1Pkwy/E4P+A553mfDy8g54bIuHiET5SwcXGYqM6T4nXZKl2xOzbba3McTVvd+yoy22u2dPmLOmo83U2lH1ZmImwyj03RyEIBVIBHBXi1iKCRkpQ8nC/HPj167Mrw0RuX+u/dGgkMd8xPn3hyL3Du2K7Zse4Hty4MHK5nE9bFYfzGEjMQKQMjZSCGkIxKSpSE2PBb54s/zT27M7Z09eS3Kzevnu+6e+Pc6uNrIz2Ny7dG5sa6D+8qhda/k5ui6vQnAg4D1WGgRmsoNi3NpIS8m833p04sz56dPnfsxpWTs+N9f5jovxnoHetvudjfEjjZWlXswq97Z3Mi2lBqBVKt9PTYsI1mmsNAj9FSchNVVwaPXD7RMdF/aKK35cpgW6Bv3+mmoo5y15GS1K7ydBfKJROCU+PUZdnRwEYzLcVKd1poSSaaLYqaZRBe+uTg8uzopZ4j96fPLF069XRh8mxDUcummEMex2GPwyUMpZPxKc6E4sJ8IEFPSdDDCXo4Xk+LiaS6dZyJzo+/ujc7Ozz0YG5sceL0s9tX+6vydyZG1WbYi1OtNhbEZtILt+/cefD3QLSGHKMhx2gpsTqaVUtNUjIv93U9Wbw+c+bs0tSFL6YuPpqfOlTsKjWi250WR6xOAm8QCoQVuzv39kwAZiVkUUHWCHKMFo7W0WOE5FPNTY8X58Z6B6cGe75+tLgYGK132eMweZHDaNdLIUIQh8N1b6ks8DUDBgVoREGzkmRVw1Yt3cInfVpX+3Rpfuhg5/XhU7/8vHpnamK7ISohQuywR+pRLgkfRKdTNLpIg8UGYAhoUIAmlGRWwRYtw8gjdFZW3JkKjHb3DrcfXgxcDPT1bdWqM0TcjXqFXMgAcUFUMlEkYCsRIaCXg3o5aERJZiVs0YQaBOBIe/Pq8sLMiYGiVHfbR/uO72nK4odn89guCY/PgnAbgmhknIxP0yFhAIaQMIRkUECmt7AY2uNy3jx/uq/WX5ns7O7tamv7CGFQnOEMPY8hpBMoG9YxYBwqoGAo4y0MGhSQWUW1asOMMkqV1TjVd2x3Wnprfu78zHhpWQkMg0IWjDEpTjqJj3+fStmg4JNMKvr/td/C0TqmSUHzYpqZ49318Y5aq3VyqC/ZmUwmhYAwDqSGhBOD4eDfUMnBMg5oUtKBKBlRJyPqEZJJSbXqWGYlo1yHTra3+m2xDcmOl1/eyc/PCCfh2qLQAxKOXcFG5SwKIUjCATGUBqjFBJ2UGPWmGWzRsjAZtd4Ze/lo60Ctr9qAjbXvT4o1X8hJ+z7HvWbUHFULtZECJjkYFUBmNR3A5CQZF6eREE1KqjmCaUAZXpNmyL/jyJYcn0a9fG3cZTON6COeJViv8djNBimmFzFI62Qcoh6hADvS+S5TqFpEVIkgs5qJITRfLHZjsLtMLt0mk8x82m5XysuSowcSLfsSsemh+jijBMK9K2K+uRDAnyWuyxJ50/jJeoZKBCsF5N8lWlfmZ9oL8r0qdOHMYJoFG73Q/3xt4ZuHoy/u9msRFhjyHhMOVgsJgD9bXL1ZWJsprsuUFDv4JgW1SCM/31Tf4nZ61ejavc+djriejv3//cfay4eTa7ePo2IGCfceDQqO19KBXXnyuixJTYZ4R7q4apPY65Z4+LRzexsrI5SF7DCvGUOpUEfrnte/rD1/MvP10lkpDwZD3tVKoFw7B2j0IP5sadUmkS9d7EsXl6eKtkXwzzT466zGQm64hx0mez9oZ3XF67+tvlyZW7k9zGdBKBfvieduNIQBjflIfY6sJlNSkyGpSpeUpQhLVcIDbtd4e9sWDnubiG+DiIV5m/768vFPa58/WvgM4cMF8WxvmiDDynqj3ZAnr8+V12RKfS7h3jJLT2XmQE1FXbTBjQ/Jgym69esxTPvDt49ev/pyceaky8Qsd/K2OriF9nBgt0fR8Ga2rDZbXpHMGh9s/s+/X/39z0+/e3DtbmBgrLWmOttutyhWH17/5vHNzASsIkVUksQpSeIV2NnAh8XqRo9iVx7iz0GqM6QNBfoDPlfP/g8mP+v94xfXXzx/+q9ff/znq5Vf/3J/9f7I6Cfe/ZVx+bbQCievxBH+P1kSPyEs2T7yAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/2d829990102924b4905fb0af934b63df/ba381/jjug.webp 200w,\n/blog/static/2d829990102924b4905fb0af934b63df/7f61c/jjug.webp 400w,\n/blog/static/2d829990102924b4905fb0af934b63df/d00b9/jjug.webp 800w,\n/blog/static/2d829990102924b4905fb0af934b63df/92f8c/jjug.webp 1200w,\n/blog/static/2d829990102924b4905fb0af934b63df/fad48/jjug.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/2d829990102924b4905fb0af934b63df/772e8/jjug.png 200w,\n/blog/static/2d829990102924b4905fb0af934b63df/e17e5/jjug.png 400w,\n/blog/static/2d829990102924b4905fb0af934b63df/5a190/jjug.png 800w,\n/blog/static/2d829990102924b4905fb0af934b63df/c1b63/jjug.png 1200w,\n/blog/static/2d829990102924b4905fb0af934b63df/29007/jjug.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/2d829990102924b4905fb0af934b63df/5a190/jjug.png\"\n            alt=\"jjug\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<p>Java CCC 2018 Fallに参加してきました。\n見てきたセッションは以下の通りです。</p>\n<ol>\n<li>【JJUG基調講演】Javaの未来を考えよう\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/e1dbadf5-158a-4138-a3fa-f139329b2cdf\">セッション概要</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_e1\">#ccc_e1</a></li>\n</ul>\n</li>\n<li>マネーフォワードのアカウントアグリゲーションの現状と課題点について／Selenium WebDriverとヘッドレスChromeを用いたスクレイピング\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/2f1cc228-b536-4775-8dad-5cbafffab39e\">セッション概要</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_g2\">#ccc_g2</a></li>\n</ul>\n</li>\n<li>思考停止しないアーキテクチャ設計\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/d4cbd28c-0028-46d7-9589-5883af93825c\">セッション概要</a></li>\n<li><a href=\"https://www.slideshare.net/kawasima/jjug-ccc-2018-fall\">スライド</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_e3\">#ccc_e3</a></li>\n</ul>\n</li>\n<li>エムスリーでのKotlinへの取り組み\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/331c1102-be76-4e17-bf7c-43f55dbc73da\">セッション概要</a></li>\n<li><a href=\"https://speakerdeck.com/m3_engineering/jjug-ccc-2018fall-kotlin-in-m3?slide=69\">スライド</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_a4\">#ccc_a4</a></li>\n</ul>\n</li>\n<li>既存アプリケーションでKotlinを導入してみた\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/9f265f00-8a25-40e2-9ca3-c701bb5154e4\">セッション概要</a></li>\n<li><a href=\"https://docs.google.com/presentation/d/1wTm_eSbsM2ihfz27QpSHzuRcCIhcRYKom-Vx_-FfUts\">スライド</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_c5\">#ccc_c5</a></li>\n</ul>\n</li>\n<li>コードをどまんなかに据えた設計アプローチ(irof)\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/536c5e49-1730-430c-811e-c38a77cedd45\">セッション概要</a></li>\n<li><a href=\"https://speakerdeck.com/irof/kodowodomannakaniju-etashe-ji-apuroti\">スライド</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_e6\">#ccc_e6</a></li>\n</ul>\n</li>\n<li>「マイクロソフト牛尾さん渡米直前記念」外資系企業で働くエンジニアの生産性向上物語(日本マイクロソフト株式会社)\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall/#/sessions/b0657145-4de3-4a64-b02b-83fbc2fdc6b9\">セッション概要</a></li>\n<li><a href=\"https://twitter.com/search?q=%23ccc_g7\">#ccc_g7</a></li>\n</ul>\n</li>\n</ol>\n<p>それぞれの感想を下記に示します。</p>\n<h2 id=\"イベント概要\" style=\"position:relative;\"><a href=\"#%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E6%A6%82%E8%A6%81\" aria-label=\"イベント概要 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>イベント概要</h2>\n<ul>\n<li>公式サイト\n<ul>\n<li><a href=\"http://www.java-users.jp/ccc2018fall\">JJUG CCC 2018 Fall</a></li>\n</ul>\n</li>\n<li>開催日時\n<ul>\n<li>2018/012/15(土) 09:30 - 21:00</li>\n</ul>\n</li>\n<li>開催場所\n<ul>\n<li><a href=\"https://www.bellesalle.co.jp/shisetsu/shinjuku/bs_shinjukugrand/\">ベルサール新宿グランド　コンファレンスセンター </a></li>\n</ul>\n</li>\n<li>ハッシュタグ\n<ul>\n<li><a href=\"https://twitter.com/search?q=%23jjug_ccc\">#jjug_ccc</a></li>\n</ul>\n</li>\n</ul>\n<h2 id=\"jjug基調講演javaの未来を考えよう\" style=\"position:relative;\"><a href=\"#jjug%E5%9F%BA%E8%AA%BF%E8%AC%9B%E6%BC%94java%E3%81%AE%E6%9C%AA%E6%9D%A5%E3%82%92%E8%80%83%E3%81%88%E3%82%88%E3%81%86\" aria-label=\"jjug基調講演javaの未来を考えよう permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>【JJUG基調講演】Javaの未来を考えよう</h2>\n<p>※スライドなし（いまのところ）</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADnklEQVR42gGTA2z8AJ+WkZqOip+VkLWwrMjFwsK+uqWfmaKclqSdmKWfma+rqL25uK+qp6Odl6KclJ+WjJ+Wi6GXjqSalLOqpQCflpCTiYOSioSTj4qjn5qhm5WblY+fmpWgmpSfmpWkoJujn5u0sayrp6GclIuakoebkoejmpHJw77LxL8AiIF6iYJ7opyXop6Zi4aAhH13m5eSwr66n5uVko6ImZWPo5+Zv7u4qqWglo6Gl46FmI6FqaKbtq+qoZiRAIV/eH53cZaSjZWTj3d0cI+LhoeEf4yIg5yZlJ6bl4aDfomFgKCblqGclomCe4mBepKKg62oo5aPiXx1bgBuamR/enWLiINqZ2JoZ2N9fHlwcm9laWZyeHN0eXVnamdoaWZtbWpoZmFgXlheXFZeXFddWlVLSUZjXlkAPDw6hYB6gXtzfXhyg393VFNPXGNfg5aQgpaPgZWPZGtoTk9MUVJNTk1HTkxGTEpFSEdCRUQ/Kywrb2liACEhIrOpnca7rrmvor2zp3ZwaXuCecrd0eP87tz86o+bkVpXUV5dVmBeV2JfV15aUlhUTVRSSi4uK311bQAnJiVya2WUi4KLgnpcWFNnYlxwcmyquLGKm5SMnZWCiIBUUkxkYlxxbmdBQD0+PDhfXFRSTUYnJSR0bGQAJyQiRkREdHFwQEBBOzs7Qj88Qz06RENCZmBbTUE/d2xniYN8SUdDV1RPNi8tMSgoWlNMZ2FdMjZCUkI9ADAoJk1MS1ZUUlhXVF5cWFxZVUdFQ2pmYIN8c1ZSTjc1NEA+PDk4Ni4uLiQkJB8cHSgnJ29rZ2JcWzImJgBFQT4XFxhjYFuOioOVkYiIhH2bl4+uqqCEgHg/PTonJiQgICAoKCgaGxwmKCgkJiYXGRsoKChaVlFlYFsAurCkXlpUGhsbHyAgKCgoHh8eIyMiOjo4Ly4tFxcYExQVNzYzQ0A7JiYmGhsdHB0fICEiHBwdioN7jIV+AKyhlLuuodLJvPLt37u3rDk4NgQGCA0ODxkZGRMTFCMjIV5bVX17dEFBPysrKyAgIhsbHRsbHBESFAYIDAA/OjdtZV2qoJOTjoRAPTgdHRwQEBISExQqKigaGho5NjPIx8H////29Obv59jb0cXEu6+5sqejnJOJgnwABAUGFxYWJiQiFBMSHx4cHx4dGBgXISEhMS8uKiglb2xm/Pv2///9///3//7v//rq//zs///w///v//7thU2Doj3s7ccAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/blog/static/8246785a7672525d7b1c5cc0899294a5/ba381/kityokoen.webp 200w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/7f61c/kityokoen.webp 400w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/d00b9/kityokoen.webp 800w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/92f8c/kityokoen.webp 1200w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/fad48/kityokoen.webp 1600w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/blog/static/8246785a7672525d7b1c5cc0899294a5/772e8/kityokoen.png 200w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/e17e5/kityokoen.png 400w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/5a190/kityokoen.png 800w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/c1b63/kityokoen.png 1200w,\n/blog/static/8246785a7672525d7b1c5cc0899294a5/29007/kityokoen.png 1600w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/blog/static/8246785a7672525d7b1c5cc0899294a5/5a190/kityokoen.png\"\n            alt=\"基調講演\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n    </span></p>\n<br />\n<p>CCCには過去4回ほど午後からグダグダ参加でしたが、今回初めて朝一で基調講演を聞きに行きました。\n前半は、鈴木会長(withお子様)のお話で、後半は、せろさん、じゅくちょーさん、きしださんのによるパネルディスカッションでした。</p>\n<p>ところで毎回JJUGで思うのですが、@nakayama_san さんの絵がすごいです。これを見るとJJUG来たなーって感じます。</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"ja\" dir=\"ltr\">Javaの未来を考えよう を聞いてきたメモ<a href=\"https://twitter.com/hashtag/ccc_e1?src=hash&amp;ref_src=twsrc%5Etfw\">#ccc_e1</a> <a href=\"https://twitter.com/hashtag/jjug_ccc?src=hash&amp;ref_src=twsrc%5Etfw\">#jjug_ccc</a> <a href=\"https://t.co/rc8m8EmUvT\">pic.twitter.com/rc8m8EmUvT</a></p>&mdash; Nakayama san (@nakayama_san) <a href=\"https://twitter.com/nakayama_san/status/1073756080910430209?ref_src=twsrc%5Etfw\">2018年12月15日</a></blockquote>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<h4 id=\"javaの歴史\" style=\"position:relative;\"><a href=\"#java%E3%81%AE%E6%AD%B4%E5%8F%B2\" aria-label=\"javaの歴史 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Javaの歴史</h4>\n<p>正直Sun時代のJavaの歴史などは、自分の中で曖昧だったので、サクッと知れ良かったです。\nJavaのサポートについては、Oracleから配布されているJDK使っていればOKという状況ではなくなっているので、\n有償サポート・無償サポートなどの状況を正確に把握する必要があるなぁと感じました。</p>\n<div class=\"gatsby-code-title\">Javaの歴史</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> 1999年\n    <span class=\"token list punctuation\">*</span> Apatch Jakarta ProjectからTomcatがリリース\n    <span class=\"token list punctuation\">*</span> Java OSSの受け皿としてApack Jakarta Project開始\n        <span class=\"token list punctuation\">*</span> 今のJavaの技術の基礎を作った\n    <span class=\"token list punctuation\">*</span> 2011年に役目を終えた（全プロジェクトがトップレベルに移行）\n<span class=\"token list punctuation\">*</span> 2004年\n    <span class=\"token list punctuation\">*</span> Eclipse Foundation が非営利団体として設立\n<span class=\"token list punctuation\">*</span> 2006年\n    <span class=\"token list punctuation\">*</span> SunがOpen JDKを公開（GPLv2ライセンス）\n<span class=\"token list punctuation\">*</span> 2010年\n    <span class=\"token list punctuation\">*</span> OracleがSunを74億ドルで買収\n<span class=\"token list punctuation\">*</span> 2016年\n    Java EE Guardians\n    <span class=\"token list punctuation\">*</span> OracleのJava EE仕様策定遅延を懸念し、Java EEを守ろうとする団体が発足\n<span class=\"token list punctuation\">*</span> 2017年9月\n    <span class=\"token list punctuation\">*</span> Java EE オープンソース化しEclipse Foundationへ移管\n    <span class=\"token list punctuation\">*</span> EE4J(Eclipse Enterprise for Java)発足\n<span class=\"token list punctuation\">*</span> 2017年9月以降～現在\n    <span class=\"token list punctuation\">*</span> Eclipse MicroProfile発足\n    <span class=\"token list punctuation\">*</span> Java SEリリースモデル変更\n        <span class=\"token list punctuation\">*</span> 半年に一回のバージョンアップ\n        <span class=\"token list punctuation\">*</span> サポートは次バージョンが出るまで\n        <span class=\"token list punctuation\">*</span> 3年置おきの長期間サポートバージョンの提供\n    <span class=\"token list punctuation\">*</span> 有償・無償など\n        <span class=\"token list punctuation\">*</span> 有償：Oracle, IBM, RedHat, Azul\n        <span class=\"token list punctuation\">*</span> 無償：AdoptOpenJDK HotSpot/OpenJ9, Amazon Corretto\n        <span class=\"token list punctuation\">*</span> 条件付き無償：Azure上の Azul Systems Zulu Enterprise\n    <span class=\"token list punctuation\">*</span> 買収\n        <span class=\"token list punctuation\">*</span> IBMがRedHat買収\n        <span class=\"token list punctuation\">*</span> MicrosoftがGitHub買収 などなど</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"パネルディスカッション\" style=\"position:relative;\"><a href=\"#%E3%83%91%E3%83%8D%E3%83%AB%E3%83%87%E3%82%A3%E3%82%B9%E3%82%AB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3\" aria-label=\"パネルディスカッション permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>パネルディスカッション</h4>\n<p>コミュニティ活性化への熱い思いを感じました。\n確かに、フリーライドするだけでなく、コミュニティに貢献したり、プルリク出したりと、自分から積極的に関わることが重要だと思います。\nまたブログの重要性についても触れていて、きしださんの「ブログ書くと他人に影響を与えられて、自分の都合のいい世界になっていく」という言葉が印象的でした。</p>\n<div class=\"gatsby-code-title\">パネルディスカッション</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> 「Java有償化」というワードの一人歩き\n<span class=\"token list punctuation\">*</span> VM\n  <span class=\"token list punctuation\">*</span> JVM実行環境が変わってきている。GraalVM登場、動的型付け言語をサポート\n  <span class=\"token list punctuation\">*</span> Project Metropolis\n    <span class=\"token list punctuation\">*</span> C++で書かれているJVMをJavaで書き換えようというプロジェクト\n  <span class=\"token list punctuation\">*</span> 個人で作るときはJavaは配布がめんどい、Nativeコンパイルが流行ってくれていれば\n      <span class=\"token list punctuation\">*</span> Javaもそうなろうとしている\n  <span class=\"token list punctuation\">*</span> AWS Lamdaなどのファンクションとして起動するものが増えてきた。Javaもそれに合わせて変わってきている\n    <span class=\"token list punctuation\">*</span> JITコンパイル時にNativeコードに変換するから起動が早くなってる\n    <span class=\"token list punctuation\">*</span> Javaのコアモジュールの分割\n      <span class=\"token list punctuation\">*</span> モジュール分割されて　必要最低限のコアモジュールだけ取り込むことが可能\n<span class=\"token list punctuation\">*</span> Javaコミュニティ\n  <span class=\"token list punctuation\">*</span> Javaライフサイクル短縮により、情報をより頻繁に取り入れる必要が出てくるため。コミュニティ活性化につながる。国際交流の機会が増える。\n  <span class=\"token list punctuation\">*</span> 日本の新元号がJava11で組み込まれているけど　メーリングリストではあまり話題にならなかったなぁ。日本の人が声を上げないと不都合な変更がそのままになる\n  <span class=\"token list punctuation\">*</span> StrutsのEOL\n    <span class=\"token list punctuation\">*</span> 日本人でコミッターがいれば日本で引き継げたのかも\n  <span class=\"token list punctuation\">*</span> フリーライドするだけでもいいが、積極的に貢献することも重要\n  <span class=\"token list punctuation\">*</span> ブログを書く\n    <span class=\"token list punctuation\">*</span> 自分から情報を公開すると自分の都合のいい世界に変わっていく\n  <span class=\"token list punctuation\">*</span> 積極的にコミュニティにかかわっていってください\n<span class=\"token list punctuation\">*</span> QA\n  <span class=\"token list punctuation\">*</span> 各人のNextStepは何ですか\n    <span class=\"token list punctuation\">*</span> きしださん\n      <span class=\"token list punctuation\">*</span> 朝起きれる人になりたい\n    <span class=\"token list punctuation\">*</span> じゅくちょーさん\n      <span class=\"token list punctuation\">*</span> JVMになりたい\n      <span class=\"token list punctuation\">*</span> 読むだけではなくコントリビュートしたい\n    <span class=\"token list punctuation\">*</span> せろさん\n      <span class=\"token list punctuation\">*</span> エンターテイメントに関わっていきたい。を盛り上げたい</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"マネーフォワードのアカウントアグリゲーションの現状と課題点についてselenium-webdriverとヘッドレスchromeを用いたスクレイピング\" style=\"position:relative;\"><a href=\"#%E3%83%9E%E3%83%8D%E3%83%BC%E3%83%95%E3%82%A9%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AE%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%82%A2%E3%82%B0%E3%83%AA%E3%82%B2%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%AE%E7%8F%BE%E7%8A%B6%E3%81%A8%E8%AA%B2%E9%A1%8C%E7%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6selenium-webdriver%E3%81%A8%E3%83%98%E3%83%83%E3%83%89%E3%83%AC%E3%82%B9chrome%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E3%82%B9%E3%82%AF%E3%83%AC%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0\" aria-label=\"マネーフォワードのアカウントアグリゲーションの現状と課題点についてselenium webdriverとヘッドレスchromeを用いたスクレイピング permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>マネーフォワードのアカウントアグリゲーションの現状と課題点について／Selenium WebDriverとヘッドレスChromeを用いたスクレイピング</h2>\n<p>※スライドなし(いまのところ)</p>\n<p>マネーフォワードさんではお金に関する４つのサービスを提供しているそうです。\n今回はそのうちの１つ「Money Forword Home」のアプリについてのお話でした。</p>\n<div class=\"gatsby-code-title\">会社概要</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> マネーフォワードが提供しているサービス\n  <span class=\"token list punctuation\">*</span> Money Forword Home\n    <span class=\"token list punctuation\">*</span> 個人向け　家計簿　スマホアプリ\n  <span class=\"token list punctuation\">*</span> Noney Forword Business\n    <span class=\"token list punctuation\">*</span> 法人向け お金の状態を可視化するアプリ\n  <span class=\"token list punctuation\">*</span> Money Forword X\n    <span class=\"token list punctuation\">*</span> パートナーとともにサービスを提供する\n  <span class=\"token list punctuation\">*</span> Money Forward Finance</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br />\n<p>HtmlUnitってテストライブラリじゃないの!?と思いましたが、マネーフォワードさんではスクレイピングに使用しているそうです。\n確かにそんな使い方もできないことはないけれど...ちょっとびっくりです。\n最新ブラウザとの挙動を合わせるためにHtmlUnitにコミットしたり、スクレイピング対象のサイトがリニューアルしたら、スクレイピングのロジックを変えたりと、地道な努力が伝わってきました。</p>\n<div class=\"gatsby-code-title\">現状のスクレイピング</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> 自動家計簿\n  <span class=\"token list punctuation\">*</span> インターネットサービス上に散らばったお金のやり取りの情報を集約・自動分類して家計簿を出力するサービス\n  <span class=\"token list punctuation\">*</span> Java8で動いている\n  <span class=\"token list punctuation\">*</span> HtmlUnitでスクレイピングしてお金のやり取り情報を収集する\n\n<span class=\"token list punctuation\">*</span> HtmlUnitでのスクレイピング\n  <span class=\"token list punctuation\">*</span> HtmlUnitはUnitテストで使うことが多いが、マネーフォワードでは、スクレイピングに使っている\n  <span class=\"token list punctuation\">*</span> HtmlUnitを拡張してスクレイピングに特化した機能を追加している\n  <span class=\"token list punctuation\">*</span> メリット\n    <span class=\"token list punctuation\">*</span> 通常のスクレイピングと違い、ブラウザ操作と同じ仕組みでスクレイピングできるので、Webブラウジングの根っこの部分からハンドリングできる\n  <span class=\"token list punctuation\">*</span> デメリット\n    <span class=\"token list punctuation\">*</span> HtmlUnitは独自ブラウザを使っているので、最新のChromeと挙動が違ったりする\n      <span class=\"token list punctuation\">*</span> 特にJavaScriptで動的にレンダリングする部分\n      <span class=\"token list punctuation\">*</span> 挙動が違う場合、HTMLUnitにコミットして最新のブラウザに仕様を追従させる必要がある</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br />\n<p>後半は、「HtmlUnitだとつらいのでSelenium WebDriverかヘッドレスChromeを検討中」というお話でした。\nコチラも、Selenium WebDriverを使う場合に、ファイルダウンロード完了通知の仕組みを自分たちで考えたりと、地道な努力が伝わってきました。</p>\n<div class=\"gatsby-code-title\">Selenium</div>\n<div class=\"gatsby-highlight\" data-language=\"markdownwebdriverとヘッドレスchromeを用いたスクレイピング\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdownwebdriverとヘッドレスchromeを用いたスクレイピング line-numbers\"><code class=\"language-markdownwebdriverとヘッドレスchromeを用いたスクレイピング\">* 脱HtmlUnit計画\n  * HtmlUnitだと最新ブラウザのAPIに追従していないのでスクレイピング時にエラーが発生する。つらい。\n  * Selenimu WebDriverかヘッドレスChromeを検討\n* ヘッドレスChroem(Chrome DevTools Protocol)\n  * 仕組み\n    * |App| ====CDP====&gt; |Chrome|\n  * 検証した感じ\n    * 結構ローレベルなAPIしかないので処理が煩雑になる\n    * 学習コスト高\n* Selenium WebDriver\n  * 仕組み\n    * |App| ====HTTP====&gt; |ChromeDriver| =====CDP====&gt; |Chrome|\n  * 検証した感じ\n    * マルチデバイスでスクレイピングできていいね\n    * WebDriver標準API以外にもいろんなエンドポイントを受け付けることが可能\n    * APIの粒度はCDP程細かくなくイイ感じ\n  * 業務要件にマッチしているか\n    * プロキシ設定できるか ⇒ 〇\n    * Cookie使えるか ⇒ 〇\n    * ファイルダウンロード使えるか ⇒ △ ファイルダウンロードはできるがアプリ側にダウンロード完了を伝える仕組みがない\n      * ⇒ 自分たちで実装\n        * Seleniumの場合、アプリとは別プロセスでブラウザが起動しているため、ファイルシステムを介してやり取りすることにした\n        * ダウンロード中のファイル名を決めておき、それがファイルがなくなったら、ダウンロード完了とみなす\n  * 残課題\n    * WebDriverのバージョンアップ対応\n    * Chromeバージョンアップへの対応</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br />\n<p>技術的に突出して新しいものを使っているわけではありませんが、開発現場のリアルな試行錯誤が聞けて大変楽しいセッションでした。</p>\n<h2 id=\"思考停止しないアーキテクチャ設計\" style=\"position:relative;\"><a href=\"#%E6%80%9D%E8%80%83%E5%81%9C%E6%AD%A2%E3%81%97%E3%81%AA%E3%81%84%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E8%A8%AD%E8%A8%88\" aria-label=\"思考停止しないアーキテクチャ設計 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>思考停止しないアーキテクチャ設計</h2>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 81.5126050420168%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"//www.slideshare.net/slideshow/embed_code/key/il0sIDu2XdnYo6\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" style=\"border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen=\"\"> </iframe> <div style=\"margin-bottom:5px\"> <strong> <a href=\"//www.slideshare.net/kawasima/jjug-ccc-2018-fall\" title=\"思考停止しないアーキテクチャ設計 ➖ JJUG CCC 2018 Fall\" target=\"_blank\">思考停止しないアーキテクチャ設計 ➖ JJUG CCC 2018 Fall</a> </strong> from <strong> <a href=\"https://www.slideshare.net/kawasima\" target=\"_blank\">Yoshitaka Kawashima</a> </strong> </div> </div>\n<br />\n<p>元T社の川島さんのセッション。一番広い部屋でしたが、立ち見が出るほど人気でした。\nお話の内容はかなり抽象度が高く上級者向けで、わからない単語もチラホラ出てきました。\n川島さんは、応募時点で無職、現在は<a href=\"https://www.wolfchief.jp/about/\">ウルフチーフ</a>という個人の会社を設立されています。\nセッション冒頭紹介があった「企業クエスト」やってみましたが確かに企業はめんどくさそうですね（したことないからわかりませんが...）</p>\n<blockquote class=\"twitter-tweet\" data-partner=\"tweetdeck\"><p lang=\"ja\" dir=\"ltr\">吉祥寺.pm16で発表した「起業クエスト」を公開しました！<br>かなりの難度のゲームです。<a href=\"https://t.co/JMARTHIHxU\">https://t.co/JMARTHIHxU</a><br>回線容量喰うので、おうちでお試しください！</p>&mdash; :craftsman/kawasima (@kawasima) <a href=\"https://twitter.com/kawasima/status/1073595586199187457?ref_src=twsrc%5Etfw\">December 14, 2018</a></blockquote>\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<p>セッション中の「The Patterns of Stop Thinking」は<a href=\"https://anond.hatelabo.jp/20150805115616\">思考停止の分類 | はてな匿名ダイアリー</a>に詳細が記載されています。\n自分も無意識のうちに思考停止になってないか、チェックする時にコレを使ってみようと思います。</p>\n<h2 id=\"エムスリーでのkotlinへの取り組み\" style=\"position:relative;\"><a href=\"#%E3%82%A8%E3%83%A0%E3%82%B9%E3%83%AA%E3%83%BC%E3%81%A7%E3%81%AEkotlin%E3%81%B8%E3%81%AE%E5%8F%96%E3%82%8A%E7%B5%84%E3%81%BF\" aria-label=\"エムスリーでのkotlinへの取り組み permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>エムスリーでのKotlinへの取り組み</h2>\n<div style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 74.9288%;\"><iframe src=\"//speakerdeck.com/player/e2d72cafdacd458280575d5cd4838863\" style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" allowfullscreen scrolling=\"no\" allow=\"autoplay; encrypted-media\"></iframe></div>\n<br />\n<p>エムスリーさんではAndriod、サーバーサイドの両方で、積極的にJavaからKotlinへ移行しているようです。</p>\n<div class=\"gatsby-code-title\">Kotlinとエムスリー</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> だんだんとKotlinの導入が進んでいる(約6グループ)\n<span class=\"token list punctuation\">*</span> Andriod、サーバーサイドともに導入が進んでいる\n<span class=\"token list punctuation\">*</span> Kotlin導入理由\n  <span class=\"token list punctuation\">*</span> Better Javaとして\n  <span class=\"token list punctuation\">*</span> エンジニアとして新しいものに挑戦したい欲求\n  <span class=\"token list punctuation\">*</span> Andriodで導入済なのでサーバサイドに導入してオールKotlinにしたい\n  <span class=\"token list punctuation\">*</span> 他プロジェクトでの導入成功事例があるため\n<span class=\"token list punctuation\">*</span> 技術選定はチームごとに自由\n  <span class=\"token list punctuation\">*</span> 自分のチームはKotlin, Go, React が主流</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br />\n<p>移行方法は大きく3パターンあり、刷新する方法について詳しく説明されていました。\nテストコードはJavaのまま。リグレッションテストはGolden file testingを使用するなど素早く移行するためのノウハウを聞くことができました。</p>\n<div class=\"gatsby-code-title\">【サーバーサイド】JavaからKotlinの移行方法</div>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">*</span> 移行方法\n  <span class=\"token list punctuation\">*</span> 段階的\n  <span class=\"token list punctuation\">*</span> なかったことにする\n  <span class=\"token list punctuation\">*</span> 刷新\n    <span class=\"token list punctuation\">*</span> IntelliJで自動コンバートして、なんとかする\n      <span class=\"token list punctuation\">*</span> 他機能開発と調整が必要\n        <span class=\"token list punctuation\">*</span> <span class=\"token code-snippet code keyword\">`xxx.java`</span>から<span class=\"token code-snippet code keyword\">`xxx.kt`</span>になるためGitで差分が見づらい\n          <span class=\"token list punctuation\">*</span> 差分が見づらいゆえ、他で同時に機能開発が走っている場合、デグレの可能性がある\n    <span class=\"token list punctuation\">*</span> リグレッションテストをたくさん作っておく\n      <span class=\"token list punctuation\">*</span> テストコードはJavaのまま\n    <span class=\"token list punctuation\">*</span> 自動コンバートをレビューしても仕方がない\n    <span class=\"token list punctuation\">*</span> Golden file testingを用いたリグレッションテスト\n      <span class=\"token list punctuation\">*</span> APIのレスポンスとGolden fileと比較してレスポンスがかわらないことを確認する\n        <span class=\"token list punctuation\">*</span> assert地獄から解放される\n    <span class=\"token list punctuation\">*</span> Swagger Codege, UI (Open API)\n      <span class=\"token list punctuation\">*</span> ソースコードからクライアントライブラリとドキュメント生成</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br />\n<p>発表者の方が「エムスリー社内Slackの<code class=\"language-text\">#spring-boot</code>チャンネルに質問したら、有識者が回答がかえってきてすぐに解決した。」と言っていて、\nこういう風に社内で横断的にコミュニケーションがとれる文化は素晴らしいなぁと思いました。</p>\n<h2 id=\"既存アプリケーションでkotlinを導入してみた\" style=\"position:relative;\"><a href=\"#%E6%97%A2%E5%AD%98%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%81%A7kotlin%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%97%E3%81%A6%E3%81%BF%E3%81%9F\" aria-label=\"既存アプリケーションでkotlinを導入してみた permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>既存アプリケーションでKotlinを導入してみた</h2>\n<div style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.2493%; padding-top: 30px;\"><iframe src=\"https://docs.google.com/presentation/d/1wTm_eSbsM2ihfz27QpSHzuRcCIhcRYKom-Vx_-FfUts/preview?usp=embed_googleplus\" style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" allowfullscreen scrolling=\"no\" allow=\"autoplay; encrypted-media\"></iframe></div>\n<br />\n<p>フリューさんのピクトリンクをJavaからKotlinに移行したというお話でした。\nピクトリンクとはプリ画のSNSだそう。僕が高校生の頃はプリクラ手帳とかで物理的にやっていましたが、今はWebでSNSでできちゃうんですね。\nJavaとKotlinのソースコードの比較と、デモを織り交ぜながら、初心者にも非常にわかりやすい説明でした！</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown:メモ\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown:メモ line-numbers\"><code class=\"language-markdown:メモ\">* 使う理由\n  * Javaから移行簡単\n  * SpringでもKotlinサポートしている\n* 便利な書き方\n  * 用法要領をまもろう\n    * みじかくかける != わかりやすい\n    * it多様すると記述量は少なくなるけど、可読性が落ちる場合がある\n  * 分割宣言はpublicAPIでは使いにくいので気を付けよう\n  * alsoというスコープ関数便利\n  * DataClass\n    * cloneやtoStringメソッドがあらかじめある。Lombokみたいな感じ\n  * 拡張関数\n    * 既存クラスに対して　関数を追加できる\n    * Nullableクラスに対しても追加できる\n    * 注意点\n      * mixinのようとでガンガン追加するとオレオレになってしまう\n      * カオスになる要因なので、ルールを決めて使いましょう\n  * Smart Cast\n    * このパターンだったらコレで大丈夫的なやつをDSLで定義する\n    * これもカオスになる要因。できればインターフェース設計とかで解決したい\n* ツールサポート\n  * IntelliJ IDEA を使ったJava to Kotlinの自動変換が便利\n  * Gralde Kotlin DSL\n    * GradleをKotlinでかける、既存Gradleファイルと共存可能\n* 注意点\n  * Java側がNullを返すパターンがややこしい\n    * コンパイルは通るが実行時例外になるケースがある\n  * バージョンアップが激しい\n    * 結構非互換ある\n    * チームのスキルセットと相談</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"コードをど真ん中に据えた設計アプローチ\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E3%81%A9%E7%9C%9F%E3%82%93%E4%B8%AD%E3%81%AB%E6%8D%AE%E3%81%88%E3%81%9F%E8%A8%AD%E8%A8%88%E3%82%A2%E3%83%97%E3%83%AD%E3%83%BC%E3%83%81\" aria-label=\"コードをど真ん中に据えた設計アプローチ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コードをど真ん中に据えた設計アプローチ</h2>\n<div style=\"left: 0; width: 100%; height: 0; position: relative; padding-bottom: 74.9288%;\"><iframe src=\"//speakerdeck.com/player/a8bb0866f87c4c1da18793db49f5b9e0\" style=\"border: 0; top: 0; left: 0; width: 100%; height: 100%; position: absolute;\" allowfullscreen scrolling=\"no\" allow=\"autoplay; encrypted-media\"></iframe></div>\n<br />\n<p>「ソースコードを読むときに、だいたいIDEを使う。IDEのおかげで括弧の強調表示や、メソッドにジャンプが可能になる。\nこの発展系で、コードをドキュメントのように見せることができれば、コードをど真ん中に見据えた設計ができるのではないか」\nこの仮説のもと、コードをど真ん中に見据えた設定を実現を補助するツール、<a href=\"https://github.com/dddjava/Jig\">JIG</a>(Java Instant-document Gazer)の紹介という流れでした。</p>\n<p>※このセッションのメモはありません。疲れてきたからメモを取らなかったとかいう理由では決してありません。</p>\n<h2 id=\"マイクロソフト牛尾さん渡米直前記念外資系企業で働くエンジニアの生産性向上物語\" style=\"position:relative;\"><a href=\"#%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%BD%E3%83%95%E3%83%88%E7%89%9B%E5%B0%BE%E3%81%95%E3%82%93%E6%B8%A1%E7%B1%B3%E7%9B%B4%E5%89%8D%E8%A8%98%E5%BF%B5%E5%A4%96%E8%B3%87%E7%B3%BB%E4%BC%81%E6%A5%AD%E3%81%A7%E5%83%8D%E3%81%8F%E3%82%A8%E3%83%B3%E3%82%B8%E3%83%8B%E3%82%A2%E3%81%AE%E7%94%9F%E7%94%A3%E6%80%A7%E5%90%91%E4%B8%8A%E7%89%A9%E8%AA%9E\" aria-label=\"マイクロソフト牛尾さん渡米直前記念外資系企業で働くエンジニアの生産性向上物語 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>「マイクロソフト牛尾さん渡米直前記念」外資系企業で働くエンジニアの生産性向上物語</h2>\n<p>最後のセッション。当初はScalaの話でも聞こうかと思っていましたが、疲れ切っていたのでこのセッションを見ることにしました。\n寺田さんと牛尾さんの掛け合いで、とても面白い話を聞くことができました。</p>\n<p>「外資はいいぞ」という話をしていたのですが、そんなに変わるものなんでしょうか？\n僕は日本企業しか経験がないので、ぜひ外資の知り合いに聞いてみたいですね。\nあとは<br />\n(1) 英語力を身に着けてインプットを加速させる<br />\n(2) ブログを書いてアウトプットする<br />\nこの２点の重要性について語られていました。<br />\n僕もブログは書いているのですが、英語に関してはサッパリ...なので英語やらねばならんですね。</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown:メモ\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown:メモ line-numbers\"><code class=\"language-markdown:メモ\">* 外資はいいよ\n  * 上司が技術にたけているので上司説得の場面がない。\n  * 無駄なやり取りが少ない\n  * スピードが速い\n* ブログを書く\n  * 面白いとおもったことを共有したい\n  * 自分の学んだことをメモする\n  * プログラミングをうまくなるコツはブログを書くこと\n  * 世界にシェアしたいものを英語でブログ書く\n* 英語力\n  * 英語力は必須\n    * 最新の技術動向はだいたい英語\n  * 英語力が技術力に直結する\n  * しゃべれるようになるには大阪のおばちゃんみたいになる</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"おわりに\" style=\"position:relative;\"><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\" aria-label=\"おわりに permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>おわりに</h2>\n<p>久しぶりに前職の人と再開でき、今の職場の人にも会えてとても楽しい時間を過ごすことができました。\n懇親会ではお寿司も大量に食べれて（お寿司は結構余ってた）、色んな方と話せたので満足です。</p>\n<p>こんな素敵なJJUGを支えてくれるスタッフ、ボランティア、登壇者の皆様、本当にありがとうございました。\nJJUG CCC 2019 Springも楽しみにしています🍅</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"http://d.hatena.ne.jp/chiheisen/20181215/1544897520\">JJUG CCC 2018 Fall( #jjug_ccc ) - セッション資料の一覧 | 地平線に行く</a></li>\n<li><a href=\"https://qiita.com/ryuichi1208/items/1ed16c162c0205d1514e\">JJUG CCC Fall 2018 資料まとめ| Qiita</a></li>\n</ul>","excerpt":"なにこれ  Java CCC 2018 Fallに参加してきました。\n見てきたセッションは以下の通りです。 【JJUG基調講演】Javaの未来を考えよう セッション概要 #ccc_e1 マネーフォワードのアカウントアグリゲーションの現状と課題点について／Selenium…","frontmatter":{"slug":"/2018/12/16/","title":"JJUG CCC 2018 Fallに行ってきました","date":"2018-12-16T21:50:00.000+09:00","tags":["Java","Kotlin","JJUG CCC","イベントレポート"],"keywords":["Java"],"thumbnail":"thumbnail/2018/jjug-ccc-2018-fall.png","category":null}}}},"staticQueryHashes":["3868140423","4185443638","467257065","558103266"],"slicesMap":{}}